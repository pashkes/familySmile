{"version":3,"sources":["markup/static/js/plugins/focus-visible.min.js","markup/static/js/plugins/lazysizes.min.js","markup/static/js/plugins/tiny-slider.js","markup/components/header/header.js"],"names":["e","t","exports","module","define","amd","document","n","indexOf","readyState","addEventListener","window","o","text","search","url","tel","email","password","number","date","month","week","time","datetime","d","nodeName","classList","i","contains","add","setAttribute","s","u","a","target","toLowerCase","removeEventListener","activeElement","type","tagName","readOnly","isContentEditable","hasAttribute","clearTimeout","setTimeout","remove","removeAttribute","visibilityState","body","b","c","lazySizes","getElementsByClassName","documentElement","f","Date","g","HTMLPictureElement","h","j","k","l","requestAnimationFrame","m","requestIdleCallback","p","q","Array","prototype","forEach","r","RegExp","test","trim","replace","v","createEvent","instance","initCustomEvent","dispatchEvent","w","picturefill","pf","reevaluate","elements","src","x","getComputedStyle","y","offsetWidth","minSize","_lazysizesWidth","parentNode","z","length","shift","apply","arguments","push","hidden","_lsFlush","A","B","throttleDelay","ricTimeout","now","timeout","C","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","srcAttr","srcsetAttr","sizesAttr","customMedia","init","expFactor","hFac","loadMode","loadHidden","lazySizesConfig","lazysizesConfig","F","D","G","H","I","J","K","L","M","N","O","navigator","userAgent","P","Q","R","S","T","U","offsetParent","getBoundingClientRect","left","right","top","bottom","V","expand","clientHeight","clientWidth","_lazyRace","innerWidth","innerHeight","ba","preloadAfterLoad","W","X","Z","Y","$","contentWindow","location","_","aa","defaultPrevented","firesLoad","call","getElementsByTagName","complete","naturalWidth","srcset","detail","E","updateElem","ca","MutationObserver","observe","childList","subtree","attributes","setInterval","checkElems","unveil","dataAttr","width","cfg","autoSizer","loader","uP","aC","rC","hC","fire","gW","rAF","tns","win","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cb","win$1","caf","cancelAnimationFrame","mozCancelAnimationFrame","id","extend","obj","name","copy","undefined","checkStorageValue","value","JSON","parse","setLocalStorage","storage","key","access","setItem","getSlideId","tnsId","getBody","doc","createElement","fake","docElement","setFakeBody","docOverflow","style","overflow","background","appendChild","resetFakeBody","offsetHeight","calc","div","result","str","vals","val","percentageLayout","wrapper","outer","count","perPage","supported","className","innerHTML","Math","abs","children","mediaquerySupport","rule","position","styleSheet","cssText","createTextNode","currentStyle","createStyleSheet","media","querySelector","sheet","addCSSRule","selector","rules","index","insertRule","addRule","removeCSSRule","deleteRule","removeRule","getCssRulesLength","cssRules","toDegree","atan2","PI","getTouchDirection","angle","range","direction","gap","forEachNodeList","arr","callback","scope","classListSupport","hasClass","el","addClass","removeClass","hasAttr","attr","getAttr","getAttribute","isNodeList","item","setAttrs","els","attrs","Object","toString","removeAttrs","attrLength","arrayFromNodeList","nl","hideElement","forceHide","display","showElement","isVisible","whichProperty","props","Props","charAt","toUpperCase","substr","prefixes","prefix","len","prop","has3DTransforms","tf","has3d","cssTF","slice","insertBefore","getPropertyValue","getEndProperty","propIn","propOut","endProp","addEvents","supportsPassive","opts","defineProperty","get","passiveOption","passive","removeEvents","option","Events","topics","on","eventName","fn","off","splice","emit","data","jsTransform","element","postfix","to","duration","tick","min","unit","from","Number","positionTick","running","moveElement","keys","object","hasOwnProperty","Element","removeChild","options","container","mode","axis","items","gutter","edgePadding","fixedWidth","autoWidth","viewportMax","slideBy","controls","controlsPosition","controlsText","controlsContainer","prevButton","nextButton","nav","navPosition","navContainer","navAsThumbnails","arrowKeys","speed","autoplay","autoplayPosition","autoplayTimeout","autoplayDirection","autoplayText","autoplayHoverPause","autoplayButton","autoplayButtonOutput","autoplayResetOnVisibility","animateIn","animateOut","animateNormal","animateDelay","loop","rewind","autoHeight","responsive","lazyload","lazyloadSelector","touch","mouseDrag","swipeAngle","nested","preventActionWhenRunning","preventScrollOnTouch","freezable","onInit","useLocalStorage","KEYS","ENTER","SPACE","PAGEUP","PAGEDOWN","END","HOME","LEFT","UP","RIGHT","DOWN","tnsStorage","localStorageAccess","browserInfo","uid","localStorage","getItem","removeItem","CALC","PERCENTAGELAYOUT","CSSMQ","TRANSFORM","HAS3DTRANSFORMS","TRANSITIONDURATION","TRANSITIONDELAY","ANIMATIONDURATION","ANIMATIONDELAY","TRANSITIONEND","ANIMATIONEND","supportConsoleWarn","console","warn","tnsList","optionsElements","carousel","responsiveTem","updateOptions","horizontal","outerWrapper","innerWrapper","containerParent","containerHTML","outerHTML","slideItems","slideCount","breakpointZone","windowWidth","getWindowWidth","isOn","setBreakpointZone","getOption","viewport","getViewportWidth","floor","fixedWidthViewportWidth","slidePositions","slideItemsOut","cloneCount","getCloneCountForLoop","slideCountNew","hasRightDeadZone","rightBoundary","getRightBoundary","updateIndexBeforeTransform","transformAttr","transformPrefix","transformPostfix","getIndexMax","ceil","max","getStartIndex","indexCached","displayIndex","getCurrentSlide","indexMin","indexMax","resizeTimer","moveDirectionExpected","events","newContainerClasses","slideId","disable","disabled","freeze","getFreeze","frozen","controlsEvents","onControlsClick","onControlsKeydown","navEvents","onNavClick","onNavKeydown","hoverEvents","mouseoverPause","mouseoutRestart","visibilityEvent","onVisibilityChange","docmentKeydownEvent","onDocumentKeydown","touchEvents","onPanStart","onPanMove","onPanEnd","dragEvents","hasControls","hasOption","hasNav","hasAutoplay","hasTouch","hasMouseDrag","slideActiveClass","imgCompleteClass","imgEvents","onImgLoaded","onImgFailed","imgsComplete","preventScroll","controlsContainerHTML","prevButtonHTML","nextButtonHTML","prevIsButton","nextIsButton","navContainerHTML","navItems","visibleNavIndexes","visibleNavIndexesCached","navClicked","navCurrentIndex","getAbsIndex","navCurrentIndexCached","navActiveClass","navStr","navStrCurrent","autoplayButtonHTML","autoplayHtmlStrings","autoplayTimer","animating","autoplayHoverPaused","autoplayUserPaused","autoplayVisibilityPaused","initPosition","lastPosition","translateInit","disX","disY","panStart","rafIndex","getDist","resetVariblesWhenDisable","sliderInit","condition","tem","ind","getItemsMax","bp","itemsMax","getClientWidth","ww","parseInt","getSlideMarginLeft","getInnerWrapperStyles","edgePaddingTem","gutterTem","fixedWidthTem","speedTem","autoHeightBP","gutterTemUnit","dir","getTrsnsitionDurationStyle","getContainerWidth","itemsTem","getSlideWidthStyle","dividend","getSlideGutterStyle","getCSSPrefix","num","substring","getAnimationDurationStyle","initStructure","fragmentBefore","createDocumentFragment","fragmentAfter","cloneFirst","cloneNode","firstChild","cloneLast","initSheet","initSliderTransform","classOuter","classInner","hasGutter","middleWrapper","initTM","stylesApplicationCheck","toFixed","temp","getSlidePositions","updateContentWrapperHeight","doContainerTransformSilent","initTools","initEvents","imgs","querySelectorAll","img","imgCachedCheck","imgLoaded","imgsLoadedCheck","getImageArray","fontSize","slide","marginLeft","innerWrapperStr","containerStr","slideStr","itemsBP","fixedWidthBP","speedBP","edgePaddingBP","gutterBP","txt","insertAdjacentHTML","toggleAutoplay","startAutoplay","initIndex","navHtml","hiddenStr","updateNavVisibility","isButton","updateControlsStatus","disableUI","eve","onTransitionEnd","resizeTasks","info","onResize","runAutoHeight","lazyLoad","disableSlider","freezeSlider","additionalUpdates","destroy","ownerNode","clearInterval","htmlList","prevEl","previousElementSibling","parentEl","nextElementSibling","firstElementChild","getEvent","bpChanged","breakpointZoneTem","needContainerTransform","indChanged","itemsChanged","disableTem","freezeTem","arrowKeysTem","controlsTem","navTem","touchTem","mouseDragTem","autoplayTem","autoplayHoverPauseTem","autoplayResetOnVisibilityTem","indexTem","autoHeightTem","controlsTextTem","autoplayTextTem","updateIndex","enableSlider","doContainerTransform","getContainerTransformValue","unfreezeSlider","stopAutoplay","height","html","updateGallerySlidePositions","getSliderWidth","leftEdge","rightEdge","enableUI","margin","classN","edge","stopPropagation","getTarget","imgFailed","imgCompleted","slideStart","slideRange","updateInnerWrapperHeight","updateSlideStatus","updateNavStatus","getMaxSlideHeight","heights","maxHeight","first","navPrev","navCurrent","getLowerCaseNodeName","isAriaDisabled","disEnableElement","prevDisabled","nextDisabled","disablePrev","disableNext","resetDuration","denominator","animateSlide","classOut","classIn","isOut","transformCore","render","sliderMoved","strTrans","event","propertyName","goTo","targetIndex","absIndex","indexGap","isNaN","factor","passEventObject","srcElement","targetIn","navIndex","setAutoplayTimer","stopAutoplayTimer","updateAutoplayButton","action","play","pause","keyCode","code","setFocus","focus","curElement","current","getNavIndex","isTouchEvent","changedTouches","preventDefaultBehavior","preventDefault","returnValue","getMoveDirectionExpected","clientX","clientY","parseFloat","panUpdate","err","dist","percentageX","preventClick","indexMoved","moved","getVisibleNavIndex","absIndexMin","unshift","version","getInfo","updateSliderHeight","refresh","rebuild","menuButton","menuWrapper","close","evt","closest","log"],"mappings":"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","file":"main.js","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t():\"function\"==typeof define&&define.amd?define(t):t()}(0,function(){\"use strict\";\"undefined\"!=typeof document&&function(e){var t;function n(){t||(t=!0,e())}[\"interactive\",\"complete\"].indexOf(document.readyState)>=0?e():(t=!1,document.addEventListener(\"DOMContentLoaded\",n,!1),window.addEventListener(\"load\",n,!1))}(function(){var e=!0,t=!1,n=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,\"datetime-local\":!0};function d(e){return!!(e&&e!==document&&\"HTML\"!==e.nodeName&&\"BODY\"!==e.nodeName&&\"classList\"in e&&\"contains\"in e.classList)}function i(e){e.classList.contains(\"focus-visible\")||(e.classList.add(\"focus-visible\"),e.setAttribute(\"data-focus-visible-added\",\"\"))}function s(t){e=!1}function u(){document.addEventListener(\"mousemove\",a),document.addEventListener(\"mousedown\",a),document.addEventListener(\"mouseup\",a),document.addEventListener(\"pointermove\",a),document.addEventListener(\"pointerdown\",a),document.addEventListener(\"pointerup\",a),document.addEventListener(\"touchmove\",a),document.addEventListener(\"touchstart\",a),document.addEventListener(\"touchend\",a)}function a(t){\"html\"!==t.target.nodeName.toLowerCase()&&(e=!1,document.removeEventListener(\"mousemove\",a),document.removeEventListener(\"mousedown\",a),document.removeEventListener(\"mouseup\",a),document.removeEventListener(\"pointermove\",a),document.removeEventListener(\"pointerdown\",a),document.removeEventListener(\"pointerup\",a),document.removeEventListener(\"touchmove\",a),document.removeEventListener(\"touchstart\",a),document.removeEventListener(\"touchend\",a))}document.addEventListener(\"keydown\",function(t){d(document.activeElement)&&i(document.activeElement),e=!0},!0),document.addEventListener(\"mousedown\",s,!0),document.addEventListener(\"pointerdown\",s,!0),document.addEventListener(\"touchstart\",s,!0),document.addEventListener(\"focus\",function(t){var n,s,u;d(t.target)&&(e||(n=t.target,s=n.type,\"INPUT\"==(u=n.tagName)&&o[s]&&!n.readOnly||\"TEXTAREA\"==u&&!n.readOnly||n.isContentEditable))&&i(t.target)},!0),document.addEventListener(\"blur\",function(e){var o;d(e.target)&&(e.target.classList.contains(\"focus-visible\")||e.target.hasAttribute(\"data-focus-visible-added\"))&&(t=!0,window.clearTimeout(n),n=window.setTimeout(function(){t=!1,window.clearTimeout(n)},100),(o=e.target).hasAttribute(\"data-focus-visible-added\")&&(o.classList.remove(\"focus-visible\"),o.removeAttribute(\"data-focus-visible-added\")))},!0),document.addEventListener(\"visibilitychange\",function(n){\"hidden\"==document.visibilityState&&(t&&(e=!0),u())},!0),u(),document.body.classList.add(\"js-focus-visible\")})});\n\n","/*! lazysizes - v4.0.3 */\r\n!function(a,b){var c=b(a,a.document);a.lazySizes=c,\"object\"==typeof module&&module.exports&&(module.exports=c)}(window,function(a,b){\"use strict\";if(b.getElementsByClassName){var c,d,e=b.documentElement,f=a.Date,g=a.HTMLPictureElement,h=\"addEventListener\",i=\"getAttribute\",j=a[h],k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=[\"load\",\"error\",\"lazyincluded\",\"_lazyloaded\"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp(\"(\\\\s|^)\"+b+\"(\\\\s|$)\")),p[b].test(a[i](\"class\")||\"\")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute(\"class\",(a[i](\"class\")||\"\").trim()+\" \"+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute(\"class\",(a[i](\"class\")||\"\").replace(c,\" \"))},u=function(a,b,c){var d=c?h:\"removeEventListener\";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,d,e,f,g){var h=b.createEvent(\"CustomEvent\");return e||(e={}),e.instance=c,h.initCustomEvent(d,!f,!g,e),a.dispatchEvent(h),h},w=function(b,c){var e;!g&&(e=a.picturefill||d.pf)?e({reevaluate:!0,elements:[b]}):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c<d.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,c=0,e=d.throttleDelay,g=d.ricTimeout,h=function(){b=!1,c=f.now(),a()},i=m&&g>49?function(){m(h,{timeout:g}),g!==d.ricTimeout&&(g=d.ricTimeout)}:A(function(){k(h)},!0);return function(a){var d;(a=a===!0)&&(g=33),b||(b=!0,d=e-(f.now()-c),0>d&&(d=0),a||9>d?i():k(i,d))}},C=function(a){var b,c,d=99,e=function(){b=null,a()},g=function(){var a=f.now()-c;d>a?k(g,d-a):(m||e)(e)};return function(){c=f.now(),b||(b=k(g,d))}};!function(){var b,c={lazyClass:\"lazyload\",loadedClass:\"lazyloaded\",loadingClass:\"lazyloading\",preloadClass:\"lazypreload\",errorClass:\"lazyerror\",autosizesClass:\"lazyautosizes\",srcAttr:\"data-src\",srcsetAttr:\"data-srcset\",sizesAttr:\"data-sizes\",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};d=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in d||(d[b]=c[b]);a.lazySizesConfig=d,k(function(){d.init&&F()})}();var D=function(){var g,l,m,o,p,y,D,F,G,H,I,J,K,L,M=/^img$/i,N=/^iframe$/i,O=\"onscroll\"in a&&!/glebot/.test(navigator.userAgent),P=0,Q=0,R=0,S=-1,T=function(a){R--,a&&a.target&&u(a.target,T),(!a||0>R||!a.target)&&(R=0)},U=function(a,c){var d,f=a,g=\"hidden\"==x(b.body,\"visibility\")||\"hidden\"!=x(a,\"visibility\");for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=e;)g=(x(f,\"opacity\")||1)>0,g&&\"visible\"!=x(f,\"overflow\")&&(d=f.getBoundingClientRect(),g=H>d.left&&G<d.right&&I>d.top-1&&F<d.bottom+1);return g},V=function(){var a,f,h,j,k,m,n,p,q,r=c.elements;if((o=d.loadMode)&&8>R&&(a=r.length)){f=0,S++,null==K&&(\"expand\"in d||(d.expand=e.clientHeight>500&&e.clientWidth>500?500:370),J=d.expand,K=J*d.expFactor),K>Q&&1>R&&S>2&&o>2&&!b.hidden?(Q=K,S=0):Q=o>1&&S>1&&6>R?J:P;for(;a>f;f++)if(r[f]&&!r[f]._lazyRace)if(O)if((p=r[f][i](\"data-expand\"))&&(m=1*p)||(m=Q),q!==m&&(y=innerWidth+m*L,D=innerHeight+m,n=-1*m,q=m),h=r[f].getBoundingClientRect(),(I=h.bottom)>=n&&(F=h.top)<=D&&(H=h.right)>=n*L&&(G=h.left)<=y&&(I||H||G||F)&&(d.loadHidden||\"hidden\"!=x(r[f],\"visibility\"))&&(l&&3>R&&!p&&(3>o||4>S)||U(r[f],m))){if(ba(r[f]),k=!0,R>9)break}else!k&&l&&!j&&4>R&&4>S&&o>2&&(g[0]||d.preloadAfterLoad)&&(g[0]||!p&&(I||H||G||F||\"auto\"!=r[f][i](d.sizesAttr)))&&(j=g[0]||r[f]);else ba(r[f]);j&&!k&&ba(j)}},W=B(V),X=function(a){s(a.target,d.loadedClass),t(a.target,d.loadingClass),u(a.target,Z),v(a.target,\"lazyloaded\")},Y=A(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,c=a[i](d.srcsetAttr);(b=d.customMedia[a[i](\"data-media\")||a[i](\"media\")])&&a.setAttribute(\"media\",b),c&&a.setAttribute(\"srcset\",c)},aa=A(function(a,b,c,e,f){var g,h,j,l,o,p;(o=v(a,\"lazybeforeunveil\",b)).defaultPrevented||(e&&(c?s(a,d.autosizesClass):a.setAttribute(\"sizes\",e)),h=a[i](d.srcsetAttr),g=a[i](d.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||\"\")),p=b.firesLoad||\"src\"in a&&(h||g||l),o={target:a},p&&(u(a,T,!0),clearTimeout(m),m=k(T,2500),s(a,d.loadingClass),u(a,Z,!0)),l&&q.call(j.getElementsByTagName(\"source\"),_),h?a.setAttribute(\"srcset\",h):g&&!l&&(N.test(a.nodeName)?$(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,d.lazyClass),z(function(){(!p||a.complete&&a.naturalWidth>1)&&(p?T(o):R--,X(o))},!0)}),ba=function(a){var b,c=M.test(a.nodeName),e=c&&(a[i](d.sizesAttr)||a[i](\"sizes\")),f=\"auto\"==e;(!f&&l||!c||!a[i](\"src\")&&!a.srcset||a.complete||r(a,d.errorClass)||!r(a,d.lazyClass))&&(b=v(a,\"lazyunveilread\").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,R++,aa(a,b,f,e,c))},ca=function(){if(!l){if(f.now()-p<999)return void k(ca,999);var a=C(function(){d.loadMode=3,W()});l=!0,d.loadMode=3,W(),j(\"scroll\",function(){3==d.loadMode&&(d.loadMode=2),a()},!0)}};return{_:function(){p=f.now(),c.elements=b.getElementsByClassName(d.lazyClass),g=b.getElementsByClassName(d.lazyClass+\" \"+d.preloadClass),L=d.hFac,j(\"scroll\",W,!0),j(\"resize\",W,!0),a.MutationObserver?new MutationObserver(W).observe(e,{childList:!0,subtree:!0,attributes:!0}):(e[h](\"DOMNodeInserted\",W,!0),e[h](\"DOMAttrModified\",W,!0),setInterval(W,999)),j(\"hashchange\",W,!0),[\"focus\",\"mouseover\",\"click\",\"load\",\"transitionend\",\"animationend\",\"webkitAnimationEnd\"].forEach(function(a){b[h](a,W,!0)}),/d$|^c/.test(b.readyState)?ca():(j(\"load\",ca),b[h](\"DOMContentLoaded\",W),k(ca,2e4)),c.elements.length?(V(),z._lsFlush()):W()},checkElems:W,unveil:ba}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+=\"px\",a.setAttribute(\"sizes\",d),n.test(b.nodeName||\"\"))for(e=b.getElementsByTagName(\"source\"),f=0,g=e.length;g>f;f++)e[f].setAttribute(\"sizes\",d);c.detail.dataAttr||w(a,c.detail)}),e=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,\"lazybeforesizes\",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width,d&&d!==a._lazysizesWidth&&c(a,f,e,d)))},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)e(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(d.autosizesClass),j(\"resize\",g)},checkElems:g,updateElem:e}}(),F=function(){F.i||(F.i=!0,E._(),D._())};return c={cfg:d,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}}});\r\n","var tns = (function () {\n  var win = window;\n\n  var raf = win.requestAnimationFrame\n    || win.webkitRequestAnimationFrame\n    || win.mozRequestAnimationFrame\n    || win.msRequestAnimationFrame\n    || function (cb) {\n      return setTimeout(cb, 16);\n    };\n\n  var win$1 = window;\n\n  var caf = win$1.cancelAnimationFrame\n    || win$1.mozCancelAnimationFrame\n    || function (id) {\n      clearTimeout(id);\n    };\n\n  function extend() {\n    var obj, name, copy,\n      target = arguments[0] || {},\n      i = 1,\n      length = arguments.length;\n\n    for (; i < length; i++) {\n      if ((obj = arguments[i]) !== null) {\n        for (name in obj) {\n          copy = obj[name];\n\n          if (target === copy) {\n            continue;\n          } else if (copy !== undefined) {\n            target[name] = copy;\n          }\n        }\n      }\n    }\n    return target;\n  }\n\n  function checkStorageValue(value) {\n    return ['true', 'false'].indexOf(value) >= 0 ? JSON.parse(value) : value;\n  }\n\n  function setLocalStorage(storage, key, value, access) {\n    if (access) {\n      storage.setItem(key, value);\n    }\n    return value;\n  }\n\n  function getSlideId() {\n    var id = window.tnsId;\n    window.tnsId = !id ? 1 : id + 1;\n\n    return 'tns' + window.tnsId;\n  }\n\n  function getBody() {\n    var doc = document,\n      body = doc.body;\n\n    if (!body) {\n      body = doc.createElement('body');\n      body.fake = true;\n    }\n\n    return body;\n  }\n\n  var docElement = document.documentElement;\n\n  function setFakeBody(body) {\n    var docOverflow = '';\n    if (body.fake) {\n      docOverflow = docElement.style.overflow;\n      //avoid crashing IE8, if background image is used\n      body.style.background = '';\n      //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n      body.style.overflow = docElement.style.overflow = 'hidden';\n      docElement.appendChild(body);\n    }\n\n    return docOverflow;\n  }\n\n  function resetFakeBody(body, docOverflow) {\n    if (body.fake) {\n      body.remove();\n      docElement.style.overflow = docOverflow;\n      // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n      // eslint-disable-next-line\n      docElement.offsetHeight;\n    }\n  }\n\n// get css-calc\n\n  function calc() {\n    var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      div = doc.createElement('div'),\n      result = false;\n\n    body.appendChild(div);\n    try {\n      var str = '(10px * 10)',\n        vals = ['calc' + str, '-moz-calc' + str, '-webkit-calc' + str],\n        val;\n      for (var i = 0; i < 3; i++) {\n        val = vals[i];\n        div.style.width = val;\n        if (div.offsetWidth === 100) {\n          result = val.replace(str, '');\n          break;\n        }\n      }\n    } catch (e) {\n    }\n\n    body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n    return result;\n  }\n\n// get subpixel support value\n\n  function percentageLayout() {\n    // check subpixel layout supporting\n    var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      wrapper = doc.createElement('div'),\n      outer = doc.createElement('div'),\n      str = '',\n      count = 70,\n      perPage = 3,\n      supported = false;\n\n    wrapper.className = \"tns-t-subp2\";\n    outer.className = \"tns-t-ct\";\n\n    for (var i = 0; i < count; i++) {\n      str += '<div></div>';\n    }\n\n    outer.innerHTML = str;\n    wrapper.appendChild(outer);\n    body.appendChild(wrapper);\n\n    supported = Math.abs(wrapper.getBoundingClientRect().left - outer.children[count - perPage].getBoundingClientRect().left) < 2;\n\n    body.fake ? resetFakeBody(body, docOverflow) : wrapper.remove();\n\n    return supported;\n  }\n\n  function mediaquerySupport() {\n    var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      div = doc.createElement('div'),\n      style = doc.createElement('style'),\n      rule = '@media all and (min-width:1px){.tns-mq-test{position:absolute}}',\n      position;\n\n    style.type = 'text/css';\n    div.className = 'tns-mq-test';\n\n    body.appendChild(style);\n    body.appendChild(div);\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = rule;\n    } else {\n      style.appendChild(doc.createTextNode(rule));\n    }\n\n    position = window.getComputedStyle ? window.getComputedStyle(div).position : div.currentStyle['position'];\n\n    body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n    return position === \"absolute\";\n  }\n\n// create and append style sheet\n  function createStyleSheet(media) {\n    // Create the <style> tag\n    var style = document.createElement(\"style\");\n    // style.setAttribute(\"type\", \"text/css\");\n\n    // Add a media (and/or media query) here if you'd like!\n    // style.setAttribute(\"media\", \"screen\")\n    // style.setAttribute(\"media\", \"only screen and (max-width : 1024px)\")\n    if (media) {\n      style.setAttribute(\"media\", media);\n    }\n\n    // WebKit hack :(\n    // style.appendChild(document.createTextNode(\"\"));\n\n    // Add the <style> element to the page\n    document.querySelector('head').appendChild(style);\n\n    return style.sheet ? style.sheet : style.styleSheet;\n  }\n\n// cross browsers addRule method\n  function addCSSRule(sheet, selector, rules, index) {\n    // return raf(function() {\n    'insertRule' in sheet ?\n      sheet.insertRule(selector + '{' + rules + '}', index) :\n      sheet.addRule(selector, rules, index);\n    // });\n  }\n\n// cross browsers addRule method\n  function removeCSSRule(sheet, index) {\n    // return raf(function() {\n    'deleteRule' in sheet ?\n      sheet.deleteRule(index) :\n      sheet.removeRule(index);\n    // });\n  }\n\n  function getCssRulesLength(sheet) {\n    var rule = ('insertRule' in sheet) ? sheet.cssRules : sheet.rules;\n    return rule.length;\n  }\n\n  function toDegree(y, x) {\n    return Math.atan2(y, x) * (180 / Math.PI);\n  }\n\n  function getTouchDirection(angle, range) {\n    var direction = false,\n      gap = Math.abs(90 - Math.abs(angle));\n\n    if (gap >= 90 - range) {\n      direction = 'horizontal';\n    } else if (gap <= range) {\n      direction = 'vertical';\n    }\n\n    return direction;\n  }\n\n// https://toddmotto.com/ditch-the-array-foreach-call-nodelist-hack/\n  function forEachNodeList(arr, callback, scope) {\n    for (var i = 0, l = arr.length; i < l; i++) {\n      callback.call(scope, arr[i], i);\n    }\n  }\n\n  var classListSupport = 'classList' in document.createElement('_');\n\n  var hasClass = classListSupport ?\n    function (el, str) {\n      return el.classList.contains(str);\n    } :\n    function (el, str) {\n      return el.className.indexOf(str) >= 0;\n    };\n\n  var addClass = classListSupport ?\n    function (el, str) {\n      if (!hasClass(el, str)) {\n        el.classList.add(str);\n      }\n    } :\n    function (el, str) {\n      if (!hasClass(el, str)) {\n        el.className += ' ' + str;\n      }\n    };\n\n  var removeClass = classListSupport ?\n    function (el, str) {\n      if (hasClass(el, str)) {\n        el.classList.remove(str);\n      }\n    } :\n    function (el, str) {\n      if (hasClass(el, str)) {\n        el.className = el.className.replace(str, '');\n      }\n    };\n\n  function hasAttr(el, attr) {\n    return el.hasAttribute(attr);\n  }\n\n  function getAttr(el, attr) {\n    return el.getAttribute(attr);\n  }\n\n  function isNodeList(el) {\n    // Only NodeList has the \"item()\" function\n    return typeof el.item !== \"undefined\";\n  }\n\n  function setAttrs(els, attrs) {\n    els = (isNodeList(els) || els instanceof Array) ? els : [els];\n    if (Object.prototype.toString.call(attrs) !== '[object Object]') {\n      return;\n    }\n\n    for (var i = els.length; i--;) {\n      for (var key in attrs) {\n        els[i].setAttribute(key, attrs[key]);\n      }\n    }\n  }\n\n  function removeAttrs(els, attrs) {\n    els = (isNodeList(els) || els instanceof Array) ? els : [els];\n    attrs = (attrs instanceof Array) ? attrs : [attrs];\n\n    var attrLength = attrs.length;\n    for (var i = els.length; i--;) {\n      for (var j = attrLength; j--;) {\n        els[i].removeAttribute(attrs[j]);\n      }\n    }\n  }\n\n  function arrayFromNodeList(nl) {\n    var arr = [];\n    for (var i = 0, l = nl.length; i < l; i++) {\n      arr.push(nl[i]);\n    }\n    return arr;\n  }\n\n  function hideElement(el, forceHide) {\n    if (el.style.display !== 'none') {\n      el.style.display = 'none';\n    }\n  }\n\n  function showElement(el, forceHide) {\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n  }\n\n  function isVisible(el) {\n    return window.getComputedStyle(el).display !== 'none';\n  }\n\n  function whichProperty(props) {\n    if (typeof props === 'string') {\n      var arr = [props],\n        Props = props.charAt(0).toUpperCase() + props.substr(1),\n        prefixes = ['Webkit', 'Moz', 'ms', 'O'];\n\n      prefixes.forEach(function (prefix) {\n        if (prefix !== 'ms' || props === 'transform') {\n          arr.push(prefix + Props);\n        }\n      });\n\n      props = arr;\n    }\n\n    var el = document.createElement('fakeelement'),\n      len = props.length;\n    for (var i = 0; i < props.length; i++) {\n      var prop = props[i];\n      if (el.style[prop] !== undefined) {\n        return prop;\n      }\n    }\n\n    return false; // explicit for ie9-\n  }\n\n  function has3DTransforms(tf) {\n    if (!tf) {\n      return false;\n    }\n    if (!window.getComputedStyle) {\n      return false;\n    }\n\n    var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      el = doc.createElement('p'),\n      has3d,\n      cssTF = tf.length > 9 ? '-' + tf.slice(0, -9).toLowerCase() + '-' : '';\n\n    cssTF += 'transform';\n\n    // Add it to the body to get the computed style\n    body.insertBefore(el, null);\n\n    el.style[tf] = 'translate3d(1px,1px,1px)';\n    has3d = window.getComputedStyle(el).getPropertyValue(cssTF);\n\n    body.fake ? resetFakeBody(body, docOverflow) : el.remove();\n\n    return (has3d !== undefined && has3d.length > 0 && has3d !== \"none\");\n  }\n\n// get transitionend, animationend based on transitionDuration\n// @propin: string\n// @propOut: string, first-letter uppercase\n// Usage: getEndProperty('WebkitTransitionDuration', 'Transition') => webkitTransitionEnd\n  function getEndProperty(propIn, propOut) {\n    var endProp = false;\n    if (/^Webkit/.test(propIn)) {\n      endProp = 'webkit' + propOut + 'End';\n    } else if (/^O/.test(propIn)) {\n      endProp = 'o' + propOut + 'End';\n    } else if (propIn) {\n      endProp = propOut.toLowerCase() + 'end';\n    }\n    return endProp;\n  }\n\n// import { passiveOption } from './passiveOption.js';\n\n  function addEvents(el, obj) {\n    for (var prop in obj) {\n      // var option = (prop === 'touchstart' || prop === 'touchmove') ? passiveOption : false;\n      el.addEventListener(prop, obj[prop], false);\n    }\n  }\n\n// Test via a getter in the options object to see if the passive property is accessed\n  var supportsPassive = false;\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function () {\n        supportsPassive = true;\n      }\n    });\n    window.addEventListener(\"test\", null, opts);\n  } catch (e) {\n  }\n  var passiveOption = supportsPassive ? {passive: true} : false;\n\n  function removeEvents(el, obj) {\n    for (var prop in obj) {\n      var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 ? passiveOption : false;\n      el.removeEventListener(prop, obj[prop], option);\n    }\n  }\n\n  function Events() {\n    return {\n      topics: {},\n      on: function (eventName, fn) {\n        this.topics[eventName] = this.topics[eventName] || [];\n        this.topics[eventName].push(fn);\n      },\n      off: function (eventName, fn) {\n        if (this.topics[eventName]) {\n          for (var i = 0; i < this.topics[eventName].length; i++) {\n            if (this.topics[eventName][i] === fn) {\n              this.topics[eventName].splice(i, 1);\n              break;\n            }\n          }\n        }\n      },\n      emit: function (eventName, data) {\n        data.type = eventName;\n        if (this.topics[eventName]) {\n          this.topics[eventName].forEach(function (fn) {\n            fn(data, eventName);\n          });\n        }\n      }\n    };\n  }\n\n  function jsTransform(element, attr, prefix, postfix, to, duration, callback) {\n    var tick = Math.min(duration, 10),\n      unit = (to.indexOf('%') >= 0) ? '%' : 'px',\n      to = to.replace(unit, ''),\n      from = Number(element.style[attr].replace(prefix, '').replace(postfix, '').replace(unit, '')),\n      positionTick = (to - from) / duration * tick,\n      running;\n\n    setTimeout(moveElement, tick);\n\n    function moveElement() {\n      duration -= tick;\n      from += positionTick;\n      element.style[attr] = prefix + from + unit + postfix;\n      if (duration > 0) {\n        setTimeout(moveElement, tick);\n      } else {\n        callback();\n      }\n    }\n  }\n\n// helper functions\n  if (!Object.keys) {\n    Object.keys = function (object) {\n      var keys = [];\n      for (var name in object) {\n        if (Object.prototype.hasOwnProperty.call(object, name)) {\n          keys.push(name);\n        }\n      }\n      return keys;\n    };\n  }\n  if (!(\"remove\" in Element.prototype)) {\n    Element.prototype.remove = function () {\n      if (this.parentNode) {\n        this.parentNode.removeChild(this);\n      }\n    };\n  }\n\n  var tns = function (options) {\n    options = extend({\n      container: '.slider',\n      mode: 'carousel',\n      axis: 'horizontal',\n      items: 1,\n      gutter: 0,\n      edgePadding: 0,\n      fixedWidth: false,\n      autoWidth: false,\n      viewportMax: false,\n      slideBy: 1,\n      controls: true,\n      controlsPosition: 'top',\n      controlsText: ['prev', 'next'],\n      controlsContainer: false,\n      prevButton: false,\n      nextButton: false,\n      nav: true,\n      navPosition: 'top',\n      navContainer: false,\n      navAsThumbnails: false,\n      arrowKeys: false,\n      speed: 300,\n      autoplay: false,\n      autoplayPosition: 'top',\n      autoplayTimeout: 5000,\n      autoplayDirection: 'forward',\n      autoplayText: ['start', 'stop'],\n      autoplayHoverPause: false,\n      autoplayButton: false,\n      autoplayButtonOutput: true,\n      autoplayResetOnVisibility: true,\n      animateIn: 'tns-fadeIn',\n      animateOut: 'tns-fadeOut',\n      animateNormal: 'tns-normal',\n      animateDelay: false,\n      loop: true,\n      rewind: false,\n      autoHeight: false,\n      responsive: false,\n      lazyload: false,\n      lazyloadSelector: '.tns-lazy-img',\n      touch: true,\n      mouseDrag: false,\n      swipeAngle: 15,\n      nested: false,\n      preventActionWhenRunning: false,\n      preventScrollOnTouch: 'auto',\n      freezable: true,\n      onInit: false,\n      useLocalStorage: true\n    }, options || {});\n\n    var doc = document,\n      win = window,\n      KEYS = {\n        ENTER: 13,\n        SPACE: 32,\n        PAGEUP: 33,\n        PAGEDOWN: 34,\n        END: 35,\n        HOME: 36,\n        LEFT: 37,\n        UP: 38,\n        RIGHT: 39,\n        DOWN: 40\n      },\n      tnsStorage = {},\n      localStorageAccess = options.useLocalStorage;\n\n    if (localStorageAccess) {\n      // check browser version and local storage access\n      var browserInfo = navigator.userAgent;\n      var uid = new Date;\n\n      try {\n        tnsStorage = win.localStorage;\n        if (tnsStorage) {\n          tnsStorage.setItem(uid, uid);\n          localStorageAccess = tnsStorage.getItem(uid) == uid;\n          tnsStorage.removeItem(uid);\n        } else {\n          localStorageAccess = false;\n        }\n        if (!localStorageAccess) {\n          tnsStorage = {};\n        }\n      } catch (e) {\n        localStorageAccess = false;\n      }\n\n      if (localStorageAccess) {\n        // remove storage when browser version changes\n        if (tnsStorage['tnsApp'] && tnsStorage['tnsApp'] !== browserInfo) {\n          ['tC', 'tPL', 'tMQ', 'tTf', 't3D', 'tTDu', 'tTDe', 'tADu', 'tADe', 'tTE', 'tAE'].forEach(function (item) {\n            tnsStorage.removeItem(item);\n          });\n        }\n        // update browserInfo\n        localStorage['tnsApp'] = browserInfo;\n      }\n    }\n\n    var CALC = tnsStorage['tC'] ? checkStorageValue(tnsStorage['tC']) : setLocalStorage(tnsStorage, 'tC', calc(), localStorageAccess),\n      PERCENTAGELAYOUT = tnsStorage['tPL'] ? checkStorageValue(tnsStorage['tPL']) : setLocalStorage(tnsStorage, 'tPL', percentageLayout(), localStorageAccess),\n      CSSMQ = tnsStorage['tMQ'] ? checkStorageValue(tnsStorage['tMQ']) : setLocalStorage(tnsStorage, 'tMQ', mediaquerySupport(), localStorageAccess),\n      TRANSFORM = tnsStorage['tTf'] ? checkStorageValue(tnsStorage['tTf']) : setLocalStorage(tnsStorage, 'tTf', whichProperty('transform'), localStorageAccess),\n      HAS3DTRANSFORMS = tnsStorage['t3D'] ? checkStorageValue(tnsStorage['t3D']) : setLocalStorage(tnsStorage, 't3D', has3DTransforms(TRANSFORM), localStorageAccess),\n      TRANSITIONDURATION = tnsStorage['tTDu'] ? checkStorageValue(tnsStorage['tTDu']) : setLocalStorage(tnsStorage, 'tTDu', whichProperty('transitionDuration'), localStorageAccess),\n      TRANSITIONDELAY = tnsStorage['tTDe'] ? checkStorageValue(tnsStorage['tTDe']) : setLocalStorage(tnsStorage, 'tTDe', whichProperty('transitionDelay'), localStorageAccess),\n      ANIMATIONDURATION = tnsStorage['tADu'] ? checkStorageValue(tnsStorage['tADu']) : setLocalStorage(tnsStorage, 'tADu', whichProperty('animationDuration'), localStorageAccess),\n      ANIMATIONDELAY = tnsStorage['tADe'] ? checkStorageValue(tnsStorage['tADe']) : setLocalStorage(tnsStorage, 'tADe', whichProperty('animationDelay'), localStorageAccess),\n      TRANSITIONEND = tnsStorage['tTE'] ? checkStorageValue(tnsStorage['tTE']) : setLocalStorage(tnsStorage, 'tTE', getEndProperty(TRANSITIONDURATION, 'Transition'), localStorageAccess),\n      ANIMATIONEND = tnsStorage['tAE'] ? checkStorageValue(tnsStorage['tAE']) : setLocalStorage(tnsStorage, 'tAE', getEndProperty(ANIMATIONDURATION, 'Animation'), localStorageAccess);\n\n    // get element nodes from selectors\n    var supportConsoleWarn = win.console && typeof win.console.warn === \"function\",\n      tnsList = ['container', 'controlsContainer', 'prevButton', 'nextButton', 'navContainer', 'autoplayButton'],\n      optionsElements = {};\n    for (var i = tnsList.length; i--;) {\n      var item = tnsList[i];\n      if (typeof options[item] === 'string') {\n        var str = options[item],\n          el = doc.querySelector(str);\n        optionsElements[item] = str;\n\n        if (el && el.nodeName) {\n          options[item] = el;\n        } else {\n          if (supportConsoleWarn) {\n            console.warn('Can\\'t find', options[item]);\n          }\n          return;\n        }\n      }\n    }\n\n    // make sure at least 1 slide\n    if (options.container.children.length < 1) {\n      if (supportConsoleWarn) {\n        console.warn('No slides found in', options.container);\n      }\n      return;\n    }\n\n    // update options\n    var responsive = options.responsive,\n      nested = options.nested,\n      carousel = options.mode === 'carousel' ? true : false;\n\n    if (responsive) {\n      // apply responsive[0] to options and remove it\n      if (0 in responsive) {\n        options = extend(options, responsive[0]);\n        delete responsive[0];\n      }\n\n      var responsiveTem = {};\n      for (var key in responsive) {\n        var val = responsive[key];\n        // update responsive\n        // from: 300: 2\n        // to:\n        //   300: {\n        //     items: 2\n        //   }\n        val = typeof val === 'number' ? {items: val} : val;\n        responsiveTem[key] = val;\n      }\n      responsive = responsiveTem;\n      responsiveTem = null;\n    }\n\n    // update options\n    function updateOptions(obj) {\n      for (var key in obj) {\n        if (!carousel) {\n          if (key === 'slideBy') {\n            obj[key] = 'page';\n          }\n          if (key === 'edgePadding') {\n            obj[key] = false;\n          }\n          if (key === 'autoHeight') {\n            obj[key] = false;\n          }\n        }\n        if (nested === 'outer' && key === 'autoHeight') {\n          obj[key] = true;\n        }\n\n        // update responsive options\n        if (key === 'responsive') {\n          updateOptions(obj[key]);\n        }\n      }\n    }\n\n    if (!carousel || nested === 'outer') {\n      updateOptions(options);\n    }\n\n\n    // === define and set variables ===\n    if (!carousel) {\n      options.axis = 'horizontal';\n      options.slideBy = 'page';\n      options.edgePadding = false;\n\n      var animateIn = options.animateIn,\n        animateOut = options.animateOut,\n        animateDelay = options.animateDelay,\n        animateNormal = options.animateNormal;\n    }\n\n    var horizontal = options.axis === 'horizontal' ? true : false,\n      outerWrapper = doc.createElement('div'),\n      innerWrapper = doc.createElement('div'),\n      container = options.container,\n      containerParent = container.parentNode,\n      containerHTML = container.outerHTML,\n      slideItems = container.children,\n      slideCount = slideItems.length,\n      breakpointZone,\n      windowWidth = getWindowWidth(),\n      isOn = false;\n    if (responsive) {\n      setBreakpointZone();\n    }\n\n    // fixedWidth: viewport > rightBoundary > indexMax\n    var autoWidth = options.autoWidth,\n      fixedWidth = getOption('fixedWidth'),\n      edgePadding = getOption('edgePadding'),\n      gutter = getOption('gutter'),\n      viewport = getViewportWidth(),\n      items = !autoWidth ? Math.floor(getOption('items')) : 1,\n      slideBy = getOption('slideBy'),\n      viewportMax = options.viewportMax || options.fixedWidthViewportWidth,\n      arrowKeys = getOption('arrowKeys'),\n      speed = getOption('speed'),\n      rewind = options.rewind,\n      loop = rewind ? false : options.loop,\n      autoHeight = getOption('autoHeight'),\n      controls = getOption('controls'),\n      controlsText = getOption('controlsText'),\n      nav = getOption('nav'),\n      touch = getOption('touch'),\n      mouseDrag = getOption('mouseDrag'),\n      autoplay = getOption('autoplay'),\n      autoplayTimeout = getOption('autoplayTimeout'),\n      autoplayText = getOption('autoplayText'),\n      autoplayHoverPause = getOption('autoplayHoverPause'),\n      autoplayResetOnVisibility = getOption('autoplayResetOnVisibility'),\n      sheet = createStyleSheet(),\n      lazyload = options.lazyload,\n      lazyloadSelector = options.lazyloadSelector,\n      slidePositions, // collection of slide positions\n      slideItemsOut = [],\n      cloneCount = loop ? getCloneCountForLoop() : 0,\n      slideCountNew = !carousel ? slideCount + cloneCount : slideCount + cloneCount * 2,\n      hasRightDeadZone = (fixedWidth || autoWidth) && !loop ? true : false,\n      rightBoundary = fixedWidth ? getRightBoundary() : null,\n      updateIndexBeforeTransform = (!carousel || !loop) ? true : false,\n      // transform\n      transformAttr = horizontal ? 'left' : 'top',\n      transformPrefix = '',\n      transformPostfix = '',\n      // index\n      getIndexMax = (function () {\n        if (fixedWidth) {\n          return function () {\n            return Math.ceil(-rightBoundary / (fixedWidth + gutter));\n          };\n        } else if (autoWidth) {\n          return function () {\n            for (var i = slideCountNew, result = i - 1; i--;) {\n              if (slidePositions[i] > -rightBoundary) {\n                result = i;\n              }\n            }\n            return result;\n          };\n        } else {\n          return function () {\n            return loop || carousel ? Math.max(0, slideCountNew - Math.ceil(items)) : slideCountNew - 1;\n          };\n        }\n      })(),\n      index = getStartIndex(getOption('startIndex')),\n      indexCached = index,\n      displayIndex = getCurrentSlide(),\n      indexMin = 0,\n      indexMax = !autoWidth ? getIndexMax() : null,\n      // resize\n      resizeTimer,\n      preventActionWhenRunning = options.preventActionWhenRunning,\n      swipeAngle = options.swipeAngle,\n      moveDirectionExpected = swipeAngle ? '?' : true,\n      running = false,\n      onInit = options.onInit,\n      events = new Events(),\n      // id, class\n      newContainerClasses = ' tns-slider tns-' + options.mode,\n      slideId = container.id || getSlideId(),\n      disable = getOption('disable'),\n      disabled = false,\n      freezable = options.freezable,\n      freeze = freezable && !autoWidth ? getFreeze() : false,\n      frozen = false,\n      controlsEvents = {\n        'click': onControlsClick,\n        'keydown': onControlsKeydown\n      },\n      navEvents = {\n        'click': onNavClick,\n        'keydown': onNavKeydown\n      },\n      hoverEvents = {\n        'mouseover': mouseoverPause,\n        'mouseout': mouseoutRestart\n      },\n      visibilityEvent = {'visibilitychange': onVisibilityChange},\n      docmentKeydownEvent = {'keydown': onDocumentKeydown},\n      touchEvents = {\n        'touchstart': onPanStart,\n        'touchmove': onPanMove,\n        'touchend': onPanEnd,\n        'touchcancel': onPanEnd\n      }, dragEvents = {\n        'mousedown': onPanStart,\n        'mousemove': onPanMove,\n        'mouseup': onPanEnd,\n        'mouseleave': onPanEnd\n      },\n      hasControls = hasOption('controls'),\n      hasNav = hasOption('nav'),\n      navAsThumbnails = autoWidth ? true : options.navAsThumbnails,\n      hasAutoplay = hasOption('autoplay'),\n      hasTouch = hasOption('touch'),\n      hasMouseDrag = hasOption('mouseDrag'),\n      slideActiveClass = 'tns-slide-active',\n      imgCompleteClass = 'tns-complete',\n      imgEvents = {\n        'load': onImgLoaded,\n        'error': onImgFailed\n      },\n      imgsComplete,\n      preventScroll = options.preventScrollOnTouch === 'force' ? true : false;\n\n    // controls\n    if (hasControls) {\n      var controlsContainer = options.controlsContainer,\n        controlsContainerHTML = options.controlsContainer ? options.controlsContainer.outerHTML : '',\n        prevButton = options.prevButton,\n        nextButton = options.nextButton,\n        prevButtonHTML = options.prevButton ? options.prevButton.outerHTML : '',\n        nextButtonHTML = options.nextButton ? options.nextButton.outerHTML : '',\n        prevIsButton,\n        nextIsButton;\n    }\n\n    // nav\n    if (hasNav) {\n      var navContainer = options.navContainer,\n        navContainerHTML = options.navContainer ? options.navContainer.outerHTML : '',\n        navItems,\n        visibleNavIndexes = [],\n        visibleNavIndexesCached = visibleNavIndexes,\n        navClicked = -1,\n        navCurrentIndex = getAbsIndex(),\n        navCurrentIndexCached = navCurrentIndex,\n        navActiveClass = 'tns-nav-active',\n        navStr = 'Carousel Page ',\n        navStrCurrent = ' (Current Slide)';\n    }\n\n    // autoplay\n    if (hasAutoplay) {\n      var autoplayDirection = options.autoplayDirection === 'forward' ? 1 : -1,\n        autoplayButton = options.autoplayButton,\n        autoplayButtonHTML = options.autoplayButton ? options.autoplayButton.outerHTML : '',\n        autoplayHtmlStrings = ['<span class=\\'tns-visually-hidden\\'>', ' animation</span>'],\n        autoplayTimer,\n        animating,\n        autoplayHoverPaused,\n        autoplayUserPaused,\n        autoplayVisibilityPaused;\n    }\n\n    if (hasTouch || hasMouseDrag) {\n      var initPosition = {},\n        lastPosition = {},\n        translateInit,\n        disX,\n        disY,\n        panStart = false,\n        rafIndex,\n        getDist = horizontal ?\n          function (a, b) {\n            return a.x - b.x;\n          } :\n          function (a, b) {\n            return a.y - b.y;\n          };\n    }\n\n    // disable slider when slidecount <= items\n    if (!autoWidth) {\n      resetVariblesWhenDisable(disable || freeze);\n    }\n\n    if (TRANSFORM) {\n      transformAttr = TRANSFORM;\n      transformPrefix = 'translate';\n\n      if (HAS3DTRANSFORMS) {\n        transformPrefix += horizontal ? '3d(' : '3d(0px, ';\n        transformPostfix = horizontal ? ', 0px, 0px)' : ', 0px)';\n      } else {\n        transformPrefix += horizontal ? 'X(' : 'Y(';\n        transformPostfix = ')';\n      }\n\n    }\n\n    sliderInit();\n\n    // === COMMON FUNCTIONS === //\n    function resetVariblesWhenDisable(condition) {\n      if (condition) {\n        controls = nav = touch = mouseDrag = arrowKeys = autoplay = autoplayHoverPause = autoplayResetOnVisibility = false;\n      }\n    }\n\n    function getCurrentSlide() {\n      var tem = carousel ? index - cloneCount : index;\n      while (tem < 0) {\n        tem += slideCount;\n      }\n      return tem % slideCount + 1;\n    }\n\n    function getStartIndex(ind) {\n      ind = ind ? Math.max(0, Math.min(loop ? slideCount - 1 : slideCount - items, ind)) : 0;\n      return carousel ? ind + cloneCount : ind;\n    }\n\n    function getAbsIndex(i) {\n      if (i == null) {\n        i = index;\n      }\n\n      if (carousel) {\n        i -= cloneCount;\n      }\n      while (i < 0) {\n        i += slideCount;\n      }\n\n      return Math.floor(i % slideCount);\n    }\n\n    function getItemsMax() {\n      // fixedWidth or autoWidth while viewportMax is not available\n      if (autoWidth || (fixedWidth && !viewportMax)) {\n        return slideCount - 1;\n        // most cases\n      } else {\n        var str = fixedWidth ? 'fixedWidth' : 'items',\n          arr = [];\n\n        if (fixedWidth || options[str] < slideCount) {\n          arr.push(options[str]);\n        }\n\n        if (responsive) {\n          for (var bp in responsive) {\n            var tem = responsive[bp][str];\n            if (tem && (fixedWidth || tem < slideCount)) {\n              arr.push(tem);\n            }\n          }\n        }\n\n        if (!arr.length) {\n          arr.push(0);\n        }\n\n        return Math.ceil(fixedWidth ? viewportMax / Math.min.apply(null, arr) : Math.max.apply(null, arr));\n      }\n    }\n\n    function getCloneCountForLoop() {\n      var itemsMax = getItemsMax(),\n        result = carousel ? Math.ceil((itemsMax * 5 - slideCount) / 2) : (itemsMax * 4 - slideCount);\n      result = Math.max(itemsMax, result);\n\n      return hasOption('edgePadding') ? result + 1 : result;\n    }\n\n    function getWindowWidth() {\n      return win.innerWidth || doc.documentElement.clientWidth || doc.body.clientWidth;\n    }\n\n    function getClientWidth(el) {\n      var div = doc.createElement('div'),\n        width;\n      el.appendChild(div);\n      width = div.offsetWidth;\n      div.remove();\n      return width || getClientWidth(el.parentNode);\n    }\n\n    function getViewportWidth() {\n      return getClientWidth(containerParent) - (edgePadding * 2 - gutter);\n    }\n\n    function hasOption(item) {\n      if (options[item]) {\n        return true;\n      } else {\n        if (responsive) {\n          for (var bp in responsive) {\n            if (responsive[bp][item]) {\n              return true;\n            }\n          }\n        }\n        return false;\n      }\n    }\n\n    // get option:\n    // fixed width: viewport, fixedWidth, gutter => items\n    // others: window width => all variables\n    // all: items => slideBy\n    function getOption(item, ww) {\n      if (ww == null) {\n        ww = windowWidth;\n      }\n\n      if (item === 'items' && fixedWidth) {\n        return Math.floor(viewport / (fixedWidth + gutter)) || 1;\n\n      } else {\n        var result = options[item];\n\n        if (responsive) {\n          for (var bp in responsive) {\n            // bp: convert string to number\n            if (ww >= parseInt(bp)) {\n              if (item in responsive[bp]) {\n                result = responsive[bp][item];\n              }\n            }\n          }\n        }\n\n        if (item === 'slideBy' && result === 'page') {\n          result = getOption('items');\n        }\n        if (!carousel && (item === 'slideBy' || item === 'items')) {\n          result = Math.floor(result);\n        }\n\n        return result;\n      }\n    }\n\n    function getSlideMarginLeft(i) {\n      return CALC ?\n        CALC + '(' + i * 100 + '% / ' + slideCountNew + ')' :\n        i * 100 / slideCountNew + '%';\n    }\n\n    function getInnerWrapperStyles(edgePaddingTem, gutterTem, fixedWidthTem, speedTem, autoHeightBP) {\n      var str = '';\n\n      if (edgePaddingTem !== undefined) {\n        var gap = edgePaddingTem;\n        if (gutterTem) {\n          gap -= gutterTem;\n        }\n        str = horizontal ?\n          'margin: 0 ' + gap + 'px 0 ' + edgePaddingTem + 'px;' :\n          'margin: ' + edgePaddingTem + 'px 0 ' + gap + 'px 0;';\n      } else if (gutterTem && !fixedWidthTem) {\n        var gutterTemUnit = '-' + gutterTem + 'px',\n          dir = horizontal ? gutterTemUnit + ' 0 0' : '0 ' + gutterTemUnit + ' 0';\n        str = 'margin: 0 ' + dir + ';';\n      }\n\n      if (autoHeightBP && TRANSITIONDURATION && speedTem) {\n        str += getTrsnsitionDurationStyle(speedTem);\n      }\n      return str;\n    }\n\n    function getContainerWidth(fixedWidthTem, gutterTem, itemsTem) {\n      if (fixedWidthTem) {\n        return (fixedWidthTem + gutterTem) * slideCountNew + 'px';\n      } else {\n        return CALC ?\n          CALC + '(' + slideCountNew * 100 + '% / ' + itemsTem + ')' :\n          slideCountNew * 100 / itemsTem + '%';\n      }\n    }\n\n    function getSlideWidthStyle(fixedWidthTem, gutterTem, itemsTem) {\n      var width;\n\n      if (fixedWidthTem) {\n        width = (fixedWidthTem + gutterTem) + 'px';\n      } else {\n        if (!carousel) {\n          itemsTem = Math.floor(itemsTem);\n        }\n        var dividend = carousel ? slideCountNew : itemsTem;\n        width = CALC ?\n          CALC + '(100% / ' + dividend + ')' :\n          100 / dividend + '%';\n      }\n\n      width = 'width:' + width;\n\n      // inner slider: overwrite outer slider styles\n      return nested !== 'inner' ? width + ';' : width + ' !important;';\n    }\n\n    function getSlideGutterStyle(gutterTem) {\n      var str = '';\n\n      // gutter maybe interger || 0\n      // so can't use 'if (gutter)'\n      if (gutterTem !== false) {\n        var prop = horizontal ? 'padding-' : 'margin-',\n          dir = horizontal ? 'right' : 'bottom';\n        str = prop + dir + ': ' + gutterTem + 'px;';\n      }\n\n      return str;\n    }\n\n    function getCSSPrefix(name, num) {\n      var prefix = name.substring(0, name.length - num).toLowerCase();\n      if (prefix) {\n        prefix = '-' + prefix + '-';\n      }\n\n      return prefix;\n    }\n\n    function getTrsnsitionDurationStyle(speed) {\n      return getCSSPrefix(TRANSITIONDURATION, 18) + 'transition-duration:' + speed / 1000 + 's;';\n    }\n\n    function getAnimationDurationStyle(speed) {\n      return getCSSPrefix(ANIMATIONDURATION, 17) + 'animation-duration:' + speed / 1000 + 's;';\n    }\n\n    function sliderInit() {\n      if (responsive) {\n        setBreakpointZone();\n      }\n      initStructure();\n\n      // add id, class, aria attributes\n      // before clone slides\n      for (var x = 0; x < slideCount; x++) {\n        var item = slideItems[x];\n        if (!item.id) {\n          item.id = slideId + '-item' + x;\n        }\n        addClass(item, 'tns-item');\n        if (!carousel && animateNormal) {\n          addClass(item, animateNormal);\n        }\n        setAttrs(item, {\n          'aria-hidden': 'true',\n          'tabindex': '-1'\n        });\n      }\n\n      // ## clone slides\n      // carousel: n + slides + n\n      // gallery:      slides + n\n      if (cloneCount) {\n        var fragmentBefore = doc.createDocumentFragment(),\n          fragmentAfter = doc.createDocumentFragment();\n\n        for (var j = cloneCount; j--;) {\n          var num = j % slideCount,\n            cloneFirst = slideItems[num].cloneNode(true);\n          removeAttrs(cloneFirst, 'id');\n          fragmentAfter.insertBefore(cloneFirst, fragmentAfter.firstChild);\n\n          if (carousel) {\n            var cloneLast = slideItems[slideCount - 1 - num].cloneNode(true);\n            removeAttrs(cloneLast, 'id');\n            fragmentBefore.appendChild(cloneLast);\n          }\n        }\n\n        container.insertBefore(fragmentBefore, container.firstChild);\n        container.appendChild(fragmentAfter);\n        slideItems = container.children;\n      }\n\n      initSheet();\n      initSliderTransform();\n    }\n\n    function initStructure() {\n      var classOuter = 'tns-outer',\n        classInner = 'tns-inner',\n        hasGutter = hasOption('gutter');\n\n      outerWrapper.className = classOuter;\n      innerWrapper.className = classInner;\n      outerWrapper.id = slideId + '-ow';\n      innerWrapper.id = slideId + '-iw';\n      if (autoHeight) {\n        innerWrapper.className += ' tns-ah';\n      }\n\n      // set container properties\n      if (container.id === '') {\n        container.id = slideId;\n      }\n      newContainerClasses += PERCENTAGELAYOUT || autoWidth ? ' tns-subpixel' : ' tns-no-subpixel';\n      newContainerClasses += CALC ? ' tns-calc' : ' tns-no-calc';\n      if (autoWidth) {\n        newContainerClasses += ' tns-autowidth';\n      }\n      newContainerClasses += ' tns-' + options.axis;\n      container.className += newContainerClasses;\n\n      // add constrain layer for carousel\n      if (carousel) {\n        var middleWrapper = doc.createElement('div');\n        middleWrapper.className = 'tns-ovh';\n\n        outerWrapper.appendChild(middleWrapper);\n        middleWrapper.appendChild(innerWrapper);\n      } else {\n        outerWrapper.appendChild(innerWrapper);\n      }\n\n      containerParent.insertBefore(outerWrapper, container);\n      innerWrapper.appendChild(container);\n    }\n\n    function initSliderTransform() {\n      // ## images loaded/failed\n      if (hasOption('autoHeight') || autoWidth || !horizontal) {\n        var imgs = container.querySelectorAll('img');\n\n        // add complete class if all images are loaded/failed\n        forEachNodeList(imgs, function (img) {\n          var src = img.src;\n          if (src.indexOf('data:image') < 0) {\n            addEvents(img, imgEvents);\n            img.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\n            img.src = src;\n            addClass(img, 'loading');\n            imgCachedCheck(img);\n          } else if (!lazyload) {\n            imgLoaded(img);\n          }\n        });\n\n        // All imgs are completed\n        raf(function () {\n          imgsLoadedCheck(arrayFromNodeList(imgs), function () {\n            imgsComplete = true;\n          });\n        });\n\n        // Check imgs in viewport only for auto height\n        if (!autoWidth && horizontal) {\n          imgs = getImageArray(index, items);\n        }\n\n        lazyload ? initTM() : raf(function () {\n          imgsLoadedCheck(arrayFromNodeList(imgs), initTM);\n        });\n\n        function initTM() {\n          if (autoWidth) {\n            // check styles application\n            var num = loop ? index : slideCount - 1;\n            (function stylesApplicationCheck() {\n              slideItems[num - 1].getBoundingClientRect().right.toFixed(2) === slideItems[num].getBoundingClientRect().left.toFixed(2) ?\n                temp() :\n                setTimeout(function () {\n                  stylesApplicationCheck();\n                }, 16);\n            })();\n          } else {\n            temp();\n          }\n\n          function temp() {\n            // run Fn()s which are rely on image loading\n            if (!horizontal || autoWidth) {\n              getSlidePositions();\n\n              if (autoWidth) {\n                rightBoundary = getRightBoundary();\n                if (freezable) {\n                  freeze = getFreeze();\n                }\n                indexMax = getIndexMax(); // <= slidePositions, rightBoundary <=\n                resetVariblesWhenDisable(disable || freeze);\n              } else {\n                updateContentWrapperHeight();\n              }\n            }\n\n            // set container transform property\n            if (carousel) {\n              doContainerTransformSilent();\n            }\n\n            // update slider tools and events\n            initTools();\n            initEvents();\n          }\n\n        }\n\n      } else {\n        // set container transform property\n        if (carousel) {\n          doContainerTransformSilent();\n        }\n\n        // update slider tools and events\n        initTools();\n        initEvents();\n      }\n    }\n\n    function initSheet() {\n      // activate visible slides\n      // add aria attrs\n      // set animation classes and left value for gallery slider\n      // use slide count when slides are fewer than items\n      for (var i = index, l = index + Math.min(slideCount, items); i < l; i++) {\n        var item = slideItems[i];\n        setAttrs(item, {'aria-hidden': 'false'});\n        removeAttrs(item, ['tabindex']);\n        addClass(item, slideActiveClass);\n\n        if (!carousel) {\n          item.style.left = (i - index) * 100 / items + '%';\n          addClass(item, animateIn);\n          removeClass(item, animateNormal);\n        }\n      }\n\n      // #### LAYOUT\n\n      // ## INLINE-BLOCK VS FLOAT\n\n      // ## PercentageLayout:\n      // slides: inline-block\n      // remove blank space between slides by set font-size: 0\n\n      // ## Non PercentageLayout:\n      // slides: float\n      //         margin-right: -100%\n      //         margin-left: ~\n\n      // Resource: https://docs.google.com/spreadsheets/d/147up245wwTXeQYve3BRSAD4oVcvQmuGsFteJOeA5xNQ/edit?usp=sharing\n      if (horizontal) {\n        if (PERCENTAGELAYOUT || autoWidth) {\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', 'font-size:' + win.getComputedStyle(slideItems[0]).fontSize + ';', getCssRulesLength(sheet));\n          addCSSRule(sheet, '#' + slideId, 'font-size:0;', getCssRulesLength(sheet));\n        } else if (carousel) {\n          forEachNodeList(slideItems, function (slide, i) {\n            slide.style.marginLeft = getSlideMarginLeft(i);\n          });\n        }\n      }\n\n\n      // ## BASIC STYLES\n      if (CSSMQ) {\n        // inner wrapper styles\n        var str = getInnerWrapperStyles(options.edgePadding, options.gutter, options.fixedWidth, options.speed, options.autoHeight);\n        addCSSRule(sheet, '#' + slideId + '-iw', str, getCssRulesLength(sheet));\n\n        // container styles\n        if (carousel) {\n          str = horizontal && !autoWidth ? 'width:' + getContainerWidth(options.fixedWidth, options.gutter, options.items) + ';' : '';\n          if (TRANSITIONDURATION) {\n            str += getTrsnsitionDurationStyle(speed);\n          }\n          addCSSRule(sheet, '#' + slideId, str, getCssRulesLength(sheet));\n        }\n\n        // slide styles\n        str = horizontal && !autoWidth ? getSlideWidthStyle(options.fixedWidth, options.gutter, options.items) : '';\n        if (options.gutter) {\n          str += getSlideGutterStyle(options.gutter);\n        }\n        // set gallery items transition-duration\n        if (!carousel) {\n          if (TRANSITIONDURATION) {\n            str += getTrsnsitionDurationStyle(speed);\n          }\n          if (ANIMATIONDURATION) {\n            str += getAnimationDurationStyle(speed);\n          }\n        }\n        if (str) {\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n        }\n\n        // non CSS mediaqueries: IE8\n        // ## update inner wrapper, container, slides if needed\n        // set inline styles for inner wrapper & container\n        // insert stylesheet (one line) for slides only (since slides are many)\n      } else {\n        // inner wrapper styles\n        innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, autoHeight);\n\n        // container styles\n        if (carousel && horizontal && !autoWidth) {\n          container.style.width = getContainerWidth(fixedWidth, gutter, items);\n        }\n\n        // slide styles\n        var str = horizontal && !autoWidth ? getSlideWidthStyle(fixedWidth, gutter, items) : '';\n        if (gutter) {\n          str += getSlideGutterStyle(gutter);\n        }\n\n        // append to the last line\n        if (str) {\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n        }\n      }\n\n      // ## MEDIAQUERIES\n      if (responsive && CSSMQ) {\n        for (var bp in responsive) {\n          // bp: convert string to number\n          bp = parseInt(bp);\n\n          var opts = responsive[bp],\n            str = '',\n            innerWrapperStr = '',\n            containerStr = '',\n            slideStr = '',\n            itemsBP = !autoWidth ? getOption('items', bp) : null,\n            fixedWidthBP = getOption('fixedWidth', bp),\n            speedBP = getOption('speed', bp),\n            edgePaddingBP = getOption('edgePadding', bp),\n            autoHeightBP = getOption('autoHeight', bp),\n            gutterBP = getOption('gutter', bp);\n\n          // inner wrapper string\n          if ('edgePadding' in opts || 'gutter' in opts) {\n            innerWrapperStr = '#' + slideId + '-iw{' + getInnerWrapperStyles(edgePaddingBP, gutterBP, fixedWidthBP, speedBP, autoHeightBP) + '}';\n          }\n\n          // container string\n          if (carousel && horizontal && !autoWidth && ('fixedWidth' in opts || 'items' in opts || (fixedWidth && 'gutter' in opts))) {\n            containerStr = 'width:' + getContainerWidth(fixedWidthBP, gutterBP, itemsBP) + ';';\n          }\n          if (TRANSITIONDURATION && 'speed' in opts) {\n            containerStr += getTrsnsitionDurationStyle(speedBP);\n          }\n          if (containerStr) {\n            containerStr = '#' + slideId + '{' + containerStr + '}';\n          }\n\n          // slide string\n          if ('fixedWidth' in opts || (fixedWidth && 'gutter' in opts) || !carousel && 'items' in opts) {\n            slideStr += getSlideWidthStyle(fixedWidthBP, gutterBP, itemsBP);\n          }\n          if ('gutter' in opts) {\n            slideStr += getSlideGutterStyle(gutterBP);\n          }\n          // set gallery items transition-duration\n          if (!carousel && 'speed' in opts) {\n            if (TRANSITIONDURATION) {\n              slideStr += getTrsnsitionDurationStyle(speedBP);\n            }\n            if (ANIMATIONDURATION) {\n              slideStr += getAnimationDurationStyle(speedBP);\n            }\n          }\n          if (slideStr) {\n            slideStr = '#' + slideId + ' > .tns-item{' + slideStr + '}';\n          }\n\n          // add up\n          str = innerWrapperStr + containerStr + slideStr;\n\n          if (str) {\n            sheet.insertRule('@media (min-width: ' + bp / 16 + 'em) {' + str + '}', sheet.cssRules.length);\n          }\n        }\n      }\n    }\n\n    function initTools() {\n      // == autoplayInit ==\n      if (hasAutoplay) {\n        var txt = autoplay ? 'stop' : 'start';\n        if (autoplayButton) {\n          setAttrs(autoplayButton, {'data-action': txt});\n        } else if (options.autoplayButtonOutput) {\n          outerWrapper.insertAdjacentHTML(options.autoplayPosition !== 'top' ? 'beforeend' : 'afterbegin', '<button data-action=\"' + txt + '\" type=\"button\">' + autoplayHtmlStrings[0] + txt + autoplayHtmlStrings[1] + autoplayText[0] + '</button>');\n          autoplayButton = outerWrapper.querySelector('[data-action]');\n        }\n\n        // add event\n        if (autoplayButton) {\n          addEvents(autoplayButton, {'click': toggleAutoplay});\n        }\n\n        if (autoplay) {\n          startAutoplay();\n          if (autoplayHoverPause) {\n            addEvents(container, hoverEvents);\n          }\n          if (autoplayResetOnVisibility) {\n            addEvents(container, visibilityEvent);\n          }\n        }\n      }\n\n      // == navInit ==\n      if (hasNav) {\n        var initIndex = !carousel ? 0 : cloneCount;\n        // customized nav\n        // will not hide the navs in case they're thumbnails\n        if (navContainer) {\n          setAttrs(navContainer, {'aria-label': 'Carousel Pagination'});\n          navItems = navContainer.children;\n          forEachNodeList(navItems, function (item, i) {\n            setAttrs(item, {\n              'data-nav': i,\n              'tabindex': '-1',\n              'aria-controls': slideItems[initIndex + i].id,\n              'aria-label': navStr + (i + 1),\n            });\n          });\n\n          // generated nav\n        } else {\n          var navHtml = '',\n            hiddenStr = navAsThumbnails ? '' : 'style=\"display:none\"';\n          for (var i = 0; i < slideCount; i++) {\n            // hide nav items by default\n            navHtml += '<button data-nav=\"' + i + '\" tabindex=\"-1\" aria-controls=\"' + slideItems[initIndex + i].id + '\" ' + hiddenStr + ' type=\"button\" aria-label=\"' + navStr + (i + 1) + '\"></button>';\n          }\n          navHtml = '<div class=\"tns-nav\" aria-label=\"Carousel Pagination\">' + navHtml + '</div>';\n          outerWrapper.insertAdjacentHTML(options.navPosition !== 'top' ? 'beforeend' : 'afterbegin', navHtml);\n\n          navContainer = outerWrapper.querySelector('.tns-nav');\n          navItems = navContainer.children;\n        }\n\n        updateNavVisibility();\n\n        // add transition\n        if (TRANSITIONDURATION) {\n          var prefix = TRANSITIONDURATION.substring(0, TRANSITIONDURATION.length - 18).toLowerCase(),\n            str = 'transition: all ' + speed / 1000 + 's';\n\n          if (prefix) {\n            str = '-' + prefix + '-' + str;\n          }\n\n          addCSSRule(sheet, '[aria-controls^=' + slideId + '-item]', str, getCssRulesLength(sheet));\n        }\n\n        setAttrs(navItems[navCurrentIndex], {\n          'tabindex': '0',\n          'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent\n        });\n        addClass(navItems[navCurrentIndex], navActiveClass);\n\n        // add events\n        addEvents(navContainer, navEvents);\n      }\n\n\n      // == controlsInit ==\n      if (hasControls) {\n        if (!controlsContainer && (!prevButton || !nextButton)) {\n          outerWrapper.insertAdjacentHTML(options.controlsPosition !== 'top' ? 'beforeend' : 'afterbegin', '<div class=\"tns-controls\" aria-label=\"Carousel Navigation\" tabindex=\"0\"><button data-controls=\"prev\" tabindex=\"-1\" aria-controls=\"' + slideId + '\" type=\"button\">' + controlsText[0] + '</button><button data-controls=\"next\" tabindex=\"-1\" aria-controls=\"' + slideId + '\" type=\"button\">' + controlsText[1] + '</button></div>');\n\n          controlsContainer = outerWrapper.querySelector('.tns-controls');\n        }\n\n        if (!prevButton || !nextButton) {\n          prevButton = controlsContainer.children[0];\n          nextButton = controlsContainer.children[1];\n        }\n\n        if (options.controlsContainer) {\n          setAttrs(controlsContainer, {\n            'aria-label': 'Carousel Navigation',\n            'tabindex': '0'\n          });\n        }\n\n        if (options.controlsContainer || (options.prevButton && options.nextButton)) {\n          setAttrs([prevButton, nextButton], {\n            'aria-controls': slideId,\n            'tabindex': '-1',\n          });\n        }\n\n        if (options.controlsContainer || (options.prevButton && options.nextButton)) {\n          setAttrs(prevButton, {'data-controls': 'prev'});\n          setAttrs(nextButton, {'data-controls': 'next'});\n        }\n\n        prevIsButton = isButton(prevButton);\n        nextIsButton = isButton(nextButton);\n\n        updateControlsStatus();\n\n        // add events\n        if (controlsContainer) {\n          addEvents(controlsContainer, controlsEvents);\n        } else {\n          addEvents(prevButton, controlsEvents);\n          addEvents(nextButton, controlsEvents);\n        }\n      }\n\n      // hide tools if needed\n      disableUI();\n    }\n\n    function initEvents() {\n      // add events\n      if (carousel && TRANSITIONEND) {\n        var eve = {};\n        eve[TRANSITIONEND] = onTransitionEnd;\n        addEvents(container, eve);\n      }\n\n      if (touch) {\n        addEvents(container, touchEvents);\n      }\n      if (mouseDrag) {\n        addEvents(container, dragEvents);\n      }\n      if (arrowKeys) {\n        addEvents(doc, docmentKeydownEvent);\n      }\n\n      if (nested === 'inner') {\n        events.on('outerResized', function () {\n          resizeTasks();\n          events.emit('innerLoaded', info());\n        });\n      } else if (responsive || fixedWidth || autoWidth || autoHeight || !horizontal) {\n        addEvents(win, {'resize': onResize});\n      }\n\n      if (nested === 'outer') {\n        events.on('innerLoaded', runAutoHeight);\n      } else if (autoHeight && !disable) {\n        runAutoHeight();\n      }\n\n      lazyLoad();\n      if (disable) {\n        disableSlider();\n      } else if (freeze) {\n        freezeSlider();\n      }\n\n      events.on('indexChanged', additionalUpdates);\n      if (nested === 'inner') {\n        events.emit('innerLoaded', info());\n      }\n      if (typeof onInit === 'function') {\n        onInit(info());\n      }\n      isOn = true;\n    }\n\n    function destroy() {\n      // sheet\n      sheet.disabled = true;\n      if (sheet.ownerNode) {\n        sheet.ownerNode.remove();\n      }\n\n      // remove win event listeners\n      removeEvents(win, {'resize': onResize});\n\n      // arrowKeys, controls, nav\n      if (arrowKeys) {\n        removeEvents(doc, docmentKeydownEvent);\n      }\n      if (controlsContainer) {\n        removeEvents(controlsContainer, controlsEvents);\n      }\n      if (navContainer) {\n        removeEvents(navContainer, navEvents);\n      }\n\n      // autoplay\n      removeEvents(container, hoverEvents);\n      removeEvents(container, visibilityEvent);\n      if (autoplayButton) {\n        removeEvents(autoplayButton, {'click': toggleAutoplay});\n      }\n      if (autoplay) {\n        clearInterval(autoplayTimer);\n      }\n\n      // container\n      if (carousel && TRANSITIONEND) {\n        var eve = {};\n        eve[TRANSITIONEND] = onTransitionEnd;\n        removeEvents(container, eve);\n      }\n      if (touch) {\n        removeEvents(container, touchEvents);\n      }\n      if (mouseDrag) {\n        removeEvents(container, dragEvents);\n      }\n\n      // cache Object values in options && reset HTML\n      var htmlList = [containerHTML, controlsContainerHTML, prevButtonHTML, nextButtonHTML, navContainerHTML, autoplayButtonHTML];\n\n      tnsList.forEach(function (item, i) {\n        var el = item === 'container' ? outerWrapper : options[item];\n\n        if (typeof el === 'object') {\n          var prevEl = el.previousElementSibling ? el.previousElementSibling : false,\n            parentEl = el.parentNode;\n          el.outerHTML = htmlList[i];\n          options[item] = prevEl ? prevEl.nextElementSibling : parentEl.firstElementChild;\n        }\n      });\n\n\n      // reset variables\n      tnsList = animateIn = animateOut = animateDelay = animateNormal = horizontal = outerWrapper = innerWrapper = container = containerParent = containerHTML = slideItems = slideCount = breakpointZone = windowWidth = autoWidth = fixedWidth = edgePadding = gutter = viewport = items = slideBy = viewportMax = arrowKeys = speed = rewind = loop = autoHeight = sheet = lazyload = slidePositions = slideItemsOut = cloneCount = slideCountNew = hasRightDeadZone = rightBoundary = updateIndexBeforeTransform = transformAttr = transformPrefix = transformPostfix = getIndexMax = index = indexCached = indexMin = indexMax = resizeTimer = swipeAngle = moveDirectionExpected = running = onInit = events = newContainerClasses = slideId = disable = disabled = freezable = freeze = frozen = controlsEvents = navEvents = hoverEvents = visibilityEvent = docmentKeydownEvent = touchEvents = dragEvents = hasControls = hasNav = navAsThumbnails = hasAutoplay = hasTouch = hasMouseDrag = slideActiveClass = imgCompleteClass = imgEvents = imgsComplete = controls = controlsText = controlsContainer = controlsContainerHTML = prevButton = nextButton = prevIsButton = nextIsButton = nav = navContainer = navContainerHTML = navItems = visibleNavIndexes = visibleNavIndexesCached = navClicked = navCurrentIndex = navCurrentIndexCached = navActiveClass = navStr = navStrCurrent = autoplay = autoplayTimeout = autoplayDirection = autoplayText = autoplayHoverPause = autoplayButton = autoplayButtonHTML = autoplayResetOnVisibility = autoplayHtmlStrings = autoplayTimer = animating = autoplayHoverPaused = autoplayUserPaused = autoplayVisibilityPaused = initPosition = lastPosition = translateInit = disX = disY = panStart = rafIndex = getDist = touch = mouseDrag = null;\n      // check variables\n      // [animateIn, animateOut, animateDelay, animateNormal, horizontal, outerWrapper, innerWrapper, container, containerParent, containerHTML, slideItems, slideCount, breakpointZone, windowWidth, autoWidth, fixedWidth, edgePadding, gutter, viewport, items, slideBy, viewportMax, arrowKeys, speed, rewind, loop, autoHeight, sheet, lazyload, slidePositions, slideItemsOut, cloneCount, slideCountNew, hasRightDeadZone, rightBoundary, updateIndexBeforeTransform, transformAttr, transformPrefix, transformPostfix, getIndexMax, index, indexCached, indexMin, indexMax, resizeTimer, swipeAngle, moveDirectionExpected, running, onInit, events, newContainerClasses, slideId, disable, disabled, freezable, freeze, frozen, controlsEvents, navEvents, hoverEvents, visibilityEvent, docmentKeydownEvent, touchEvents, dragEvents, hasControls, hasNav, navAsThumbnails, hasAutoplay, hasTouch, hasMouseDrag, slideActiveClass, imgCompleteClass, imgEvents, imgsComplete, controls, controlsText, controlsContainer, controlsContainerHTML, prevButton, nextButton, prevIsButton, nextIsButton, nav, navContainer, navContainerHTML, navItems, visibleNavIndexes, visibleNavIndexesCached, navClicked, navCurrentIndex, navCurrentIndexCached, navActiveClass, navStr, navStrCurrent, autoplay, autoplayTimeout, autoplayDirection, autoplayText, autoplayHoverPause, autoplayButton, autoplayButtonHTML, autoplayResetOnVisibility, autoplayHtmlStrings, autoplayTimer, animating, autoplayHoverPaused, autoplayUserPaused, autoplayVisibilityPaused, initPosition, lastPosition, translateInit, disX, disY, panStart, rafIndex, getDist, touch, mouseDrag ].forEach(function(item) { if (item !== null) { console.log(item); } });\n\n      for (var a in this) {\n        if (a !== 'rebuild') {\n          this[a] = null;\n        }\n      }\n      isOn = false;\n    }\n\n// === ON RESIZE ===\n    // responsive || fixedWidth || autoWidth || !horizontal\n    function onResize(e) {\n      raf(function () {\n        resizeTasks(getEvent(e));\n      });\n    }\n\n    function resizeTasks(e) {\n      if (!isOn) {\n        return;\n      }\n      if (nested === 'outer') {\n        events.emit('outerResized', info(e));\n      }\n      windowWidth = getWindowWidth();\n      var bpChanged,\n        breakpointZoneTem = breakpointZone,\n        needContainerTransform = false;\n\n      if (responsive) {\n        setBreakpointZone();\n        bpChanged = breakpointZoneTem !== breakpointZone;\n        // if (hasRightDeadZone) { needContainerTransform = true; } // *?\n        if (bpChanged) {\n          events.emit('newBreakpointStart', info(e));\n        }\n      }\n\n      var indChanged,\n        itemsChanged,\n        itemsTem = items,\n        disableTem = disable,\n        freezeTem = freeze,\n        arrowKeysTem = arrowKeys,\n        controlsTem = controls,\n        navTem = nav,\n        touchTem = touch,\n        mouseDragTem = mouseDrag,\n        autoplayTem = autoplay,\n        autoplayHoverPauseTem = autoplayHoverPause,\n        autoplayResetOnVisibilityTem = autoplayResetOnVisibility,\n        indexTem = index;\n\n      if (bpChanged) {\n        var fixedWidthTem = fixedWidth,\n          autoHeightTem = autoHeight,\n          controlsTextTem = controlsText,\n          autoplayTextTem = autoplayText;\n\n        if (!CSSMQ) {\n          var gutterTem = gutter,\n            edgePaddingTem = edgePadding;\n        }\n      }\n\n      // get option:\n      // fixed width: viewport, fixedWidth, gutter => items\n      // others: window width => all variables\n      // all: items => slideBy\n      arrowKeys = getOption('arrowKeys');\n      controls = getOption('controls');\n      nav = getOption('nav');\n      touch = getOption('touch');\n      mouseDrag = getOption('mouseDrag');\n      autoplay = getOption('autoplay');\n      autoplayHoverPause = getOption('autoplayHoverPause');\n      autoplayResetOnVisibility = getOption('autoplayResetOnVisibility');\n\n      if (bpChanged) {\n        disable = getOption('disable');\n        fixedWidth = getOption('fixedWidth');\n        speed = getOption('speed');\n        autoHeight = getOption('autoHeight');\n        controlsText = getOption('controlsText');\n        autoplayText = getOption('autoplayText');\n        autoplayTimeout = getOption('autoplayTimeout');\n\n        if (!CSSMQ) {\n          edgePadding = getOption('edgePadding');\n          gutter = getOption('gutter');\n        }\n      }\n      // update options\n      resetVariblesWhenDisable(disable);\n\n      viewport = getViewportWidth(); // <= edgePadding, gutter\n      if ((!horizontal || autoWidth) && !disable) {\n        getSlidePositions();\n        if (!horizontal) {\n          updateContentWrapperHeight(); // <= getSlidePositions\n          needContainerTransform = true;\n        }\n      }\n      if (fixedWidth || autoWidth) {\n        rightBoundary = getRightBoundary(); // autoWidth: <= viewport, slidePositions, gutter\n                                            // fixedWidth: <= viewport, fixedWidth, gutter\n        indexMax = getIndexMax(); // autoWidth: <= rightBoundary, slidePositions\n                                  // fixedWidth: <= rightBoundary, fixedWidth, gutter\n      }\n\n      if (bpChanged || fixedWidth) {\n        items = getOption('items');\n        slideBy = getOption('slideBy');\n        itemsChanged = items !== itemsTem;\n\n        if (itemsChanged) {\n          if (!fixedWidth && !autoWidth) {\n            indexMax = getIndexMax();\n          } // <= items\n          // check index before transform in case\n          // slider reach the right edge then items become bigger\n          updateIndex();\n        }\n      }\n\n      if (bpChanged) {\n        if (disable !== disableTem) {\n          if (disable) {\n            disableSlider();\n          } else {\n            enableSlider(); // <= slidePositions, rightBoundary, indexMax\n          }\n        }\n      }\n\n      if (freezable && (bpChanged || fixedWidth || autoWidth)) {\n        freeze = getFreeze(); // <= autoWidth: slidePositions, gutter, viewport, rightBoundary\n                              // <= fixedWidth: fixedWidth, gutter, rightBoundary\n                              // <= others: items\n\n        if (freeze !== freezeTem) {\n          if (freeze) {\n            doContainerTransform(getContainerTransformValue(getStartIndex(0)));\n            freezeSlider();\n          } else {\n            unfreezeSlider();\n            needContainerTransform = true;\n          }\n        }\n      }\n\n      resetVariblesWhenDisable(disable || freeze); // controls, nav, touch, mouseDrag, arrowKeys, autoplay, autoplayHoverPause, autoplayResetOnVisibility\n      if (!autoplay) {\n        autoplayHoverPause = autoplayResetOnVisibility = false;\n      }\n\n      if (arrowKeys !== arrowKeysTem) {\n        arrowKeys ?\n          addEvents(doc, docmentKeydownEvent) :\n          removeEvents(doc, docmentKeydownEvent);\n      }\n      if (controls !== controlsTem) {\n        if (controls) {\n          if (controlsContainer) {\n            showElement(controlsContainer);\n          } else {\n            if (prevButton) {\n              showElement(prevButton);\n            }\n            if (nextButton) {\n              showElement(nextButton);\n            }\n          }\n        } else {\n          if (controlsContainer) {\n            hideElement(controlsContainer);\n          } else {\n            if (prevButton) {\n              hideElement(prevButton);\n            }\n            if (nextButton) {\n              hideElement(nextButton);\n            }\n          }\n        }\n      }\n      if (nav !== navTem) {\n        if (nav) {\n          showElement(navContainer);\n          updateNavVisibility();\n        } else {\n          hideElement(navContainer);\n        }\n      }\n      if (touch !== touchTem) {\n        touch ?\n          addEvents(container, touchEvents) :\n          removeEvents(container, touchEvents);\n      }\n      if (mouseDrag !== mouseDragTem) {\n        mouseDrag ?\n          addEvents(container, dragEvents) :\n          removeEvents(container, dragEvents);\n      }\n      if (autoplay !== autoplayTem) {\n        if (autoplay) {\n          if (autoplayButton) {\n            showElement(autoplayButton);\n          }\n          if (!animating && !autoplayUserPaused) {\n            startAutoplay();\n          }\n        } else {\n          if (autoplayButton) {\n            hideElement(autoplayButton);\n          }\n          if (animating) {\n            stopAutoplay();\n          }\n        }\n      }\n      if (autoplayHoverPause !== autoplayHoverPauseTem) {\n        autoplayHoverPause ?\n          addEvents(container, hoverEvents) :\n          removeEvents(container, hoverEvents);\n      }\n      if (autoplayResetOnVisibility !== autoplayResetOnVisibilityTem) {\n        autoplayResetOnVisibility ?\n          addEvents(doc, visibilityEvent) :\n          removeEvents(doc, visibilityEvent);\n      }\n\n      if (bpChanged) {\n        if (fixedWidth !== fixedWidthTem) {\n          needContainerTransform = true;\n        }\n\n        if (autoHeight !== autoHeightTem) {\n          if (!autoHeight) {\n            innerWrapper.style.height = '';\n          }\n        }\n\n        if (controls && controlsText !== controlsTextTem) {\n          prevButton.innerHTML = controlsText[0];\n          nextButton.innerHTML = controlsText[1];\n        }\n\n        if (autoplayButton && autoplayText !== autoplayTextTem) {\n          var i = autoplay ? 1 : 0,\n            html = autoplayButton.innerHTML,\n            len = html.length - autoplayTextTem[i].length;\n          if (html.substring(len) === autoplayTextTem[i]) {\n            autoplayButton.innerHTML = html.substring(0, len) + autoplayText[i];\n          }\n        }\n      }\n\n      indChanged = index !== indexTem;\n      if (indChanged) {\n        events.emit('indexChanged', info());\n        needContainerTransform = true;\n      }\n\n      if (itemsChanged) {\n        if (!indChanged) {\n          additionalUpdates();\n        }\n        if (!carousel) {\n          updateGallerySlidePositions();\n        }\n      }\n\n      if (!disable && !freeze) {\n        // non-meduaqueries: IE8\n        if (bpChanged && !CSSMQ) {\n          // inner wrapper styles\n          if (edgePadding !== edgePaddingTem || gutter !== gutterTem) {\n            innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, speed, autoHeight);\n          }\n\n          if (horizontal) {\n            // container styles\n            if (carousel) {\n              container.style.width = getContainerWidth(fixedWidth, gutter, items);\n            }\n\n            // slide styles\n            var str = getSlideWidthStyle(fixedWidth, gutter, items) +\n              getSlideGutterStyle(gutter);\n\n            // remove the last line and\n            // add new styles\n            removeCSSRule(sheet, getCssRulesLength(sheet) - 1);\n            addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n          }\n        }\n\n        // auto height\n        if (autoHeight) {\n          runAutoHeight();\n        }\n\n        if (needContainerTransform) {\n          doContainerTransformSilent();\n          indexCached = index;\n        }\n      }\n\n      if (bpChanged) {\n        events.emit('newBreakpointEnd', info(e));\n      }\n    }\n\n\n    // === INITIALIZATION FUNCTIONS === //\n    function getFreeze() {\n      if (!fixedWidth && !autoWidth) {\n        return slideCount <= items;\n      }\n\n      if (fixedWidth) {\n        return (fixedWidth + gutter) * slideCount <= viewport + edgePadding * 2;\n      } else {\n        var width = loop ? slidePositions[slideCount] : getSliderWidth();\n        return width <= viewport + edgePadding * 2;\n      }\n    }\n\n    function setBreakpointZone() {\n      breakpointZone = 0;\n      for (var bp in responsive) {\n        bp = parseInt(bp); // convert string to number\n        if (windowWidth >= bp) {\n          breakpointZone = bp;\n        }\n      }\n    }\n\n    // (slideBy, indexMin, indexMax) => index\n    var updateIndex = (function () {\n      return loop ?\n        carousel ?\n          // loop + carousel\n          function () {\n            var leftEdge = indexMin,\n              rightEdge = indexMax;\n\n            leftEdge += slideBy;\n            rightEdge -= slideBy;\n\n            // adjust edges when has edge padding\n            // or fixed-width slider with extra space on the right side\n            if (edgePadding) {\n              leftEdge += 1;\n              rightEdge -= 1;\n            } else if (fixedWidth) {\n              if (viewport % (fixedWidth + gutter)) {\n                rightEdge -= 1;\n              }\n            }\n\n            if (cloneCount) {\n              if (index > rightEdge) {\n                index -= slideCount;\n              } else if (index < leftEdge) {\n                index += slideCount;\n              }\n            }\n          } :\n          // loop + gallery\n          function () {\n            if (index > indexMax) {\n              while (index >= indexMin + slideCount) {\n                index -= slideCount;\n              }\n            } else if (index < indexMin) {\n              while (index <= indexMax - slideCount) {\n                index += slideCount;\n              }\n            }\n          } :\n        // non-loop\n        function () {\n          index = Math.max(indexMin, Math.min(indexMax, index));\n        };\n    })();\n\n    function disableUI() {\n      if (!autoplay && autoplayButton) {\n        hideElement(autoplayButton);\n      }\n      if (!nav && navContainer) {\n        hideElement(navContainer);\n      }\n      if (!controls) {\n        if (controlsContainer) {\n          hideElement(controlsContainer);\n        } else {\n          if (prevButton) {\n            hideElement(prevButton);\n          }\n          if (nextButton) {\n            hideElement(nextButton);\n          }\n        }\n      }\n    }\n\n    function enableUI() {\n      if (autoplay && autoplayButton) {\n        showElement(autoplayButton);\n      }\n      if (nav && navContainer) {\n        showElement(navContainer);\n      }\n      if (controls) {\n        if (controlsContainer) {\n          showElement(controlsContainer);\n        } else {\n          if (prevButton) {\n            showElement(prevButton);\n          }\n          if (nextButton) {\n            showElement(nextButton);\n          }\n        }\n      }\n    }\n\n    function freezeSlider() {\n      if (frozen) {\n        return;\n      }\n\n      // remove edge padding from inner wrapper\n      if (edgePadding) {\n        innerWrapper.style.margin = '0px';\n      }\n\n      // add class tns-transparent to cloned slides\n      if (cloneCount) {\n        var str = 'tns-transparent';\n        for (var i = cloneCount; i--;) {\n          if (carousel) {\n            addClass(slideItems[i], str);\n          }\n          addClass(slideItems[slideCountNew - i - 1], str);\n        }\n      }\n\n      // update tools\n      disableUI();\n\n      frozen = true;\n    }\n\n    function unfreezeSlider() {\n      if (!frozen) {\n        return;\n      }\n\n      // restore edge padding for inner wrapper\n      // for mordern browsers\n      if (edgePadding && CSSMQ) {\n        innerWrapper.style.margin = '';\n      }\n\n      // remove class tns-transparent to cloned slides\n      if (cloneCount) {\n        var str = 'tns-transparent';\n        for (var i = cloneCount; i--;) {\n          if (carousel) {\n            removeClass(slideItems[i], str);\n          }\n          removeClass(slideItems[slideCountNew - i - 1], str);\n        }\n      }\n\n      // update tools\n      enableUI();\n\n      frozen = false;\n    }\n\n    function disableSlider() {\n      if (disabled) {\n        return;\n      }\n\n      sheet.disabled = true;\n      container.className = container.className.replace(newContainerClasses.substring(1), '');\n      removeAttrs(container, ['style']);\n      if (loop) {\n        for (var j = cloneCount; j--;) {\n          if (carousel) {\n            hideElement(slideItems[j]);\n          }\n          hideElement(slideItems[slideCountNew - j - 1]);\n        }\n      }\n\n      // vertical slider\n      if (!horizontal || !carousel) {\n        removeAttrs(innerWrapper, ['style']);\n      }\n\n      // gallery\n      if (!carousel) {\n        for (var i = index, l = index + slideCount; i < l; i++) {\n          var item = slideItems[i];\n          removeAttrs(item, ['style']);\n          removeClass(item, animateIn);\n          removeClass(item, animateNormal);\n        }\n      }\n\n      // update tools\n      disableUI();\n\n      disabled = true;\n    }\n\n    function enableSlider() {\n      if (!disabled) {\n        return;\n      }\n\n      sheet.disabled = false;\n      container.className += newContainerClasses;\n      doContainerTransformSilent();\n\n      if (loop) {\n        for (var j = cloneCount; j--;) {\n          if (carousel) {\n            showElement(slideItems[j]);\n          }\n          showElement(slideItems[slideCountNew - j - 1]);\n        }\n      }\n\n      // gallery\n      if (!carousel) {\n        for (var i = index, l = index + slideCount; i < l; i++) {\n          var item = slideItems[i],\n            classN = i < index + items ? animateIn : animateNormal;\n          item.style.left = (i - index) * 100 / items + '%';\n          addClass(item, classN);\n        }\n      }\n\n      // update tools\n      enableUI();\n\n      disabled = false;\n    }\n\n    function lazyLoad() {\n      if (lazyload && !disable) {\n        var i = index, len;\n\n        if (!autoWidth) {\n          len = index + items;\n        } else {\n          var a = index + 1,\n            len = a,\n            edge = slidePositions[index] + viewport + edgePadding - gutter;\n          while (slidePositions[a] < edge) {\n            a++;\n            len = a;\n          }\n        }\n\n        if (edgePadding) {\n          i -= 1;\n          if (!autoWidth) {\n            len += 1;\n          }\n        }\n\n        i = Math.floor(Math.max(i, 0));\n        len = Math.ceil(Math.min(len, slideCountNew));\n\n        for (; i < len; i++) {\n          forEachNodeList(slideItems[i].querySelectorAll(lazyloadSelector), function (img) {\n            if (!hasClass(img, imgCompleteClass)) {\n              // stop propagation transitionend event to container\n              var eve = {};\n              eve[TRANSITIONEND] = function (e) {\n                e.stopPropagation();\n              };\n              addEvents(img, eve);\n\n              addEvents(img, imgEvents);\n\n              // update srcset\n              var srcset = getAttr(img, 'data-srcset');\n              if (srcset) {\n                img.srcset = srcset;\n              }\n\n              // update src\n              img.src = getAttr(img, 'data-src');\n\n              addClass(img, 'loading');\n              imgCachedCheck(img);\n            }\n          });\n        }\n      }\n    }\n\n    function onImgLoaded(e) {\n      var img = getTarget(e);\n      imgLoaded(img);\n    }\n\n    function onImgFailed(e) {\n      var img = getTarget(e);\n      imgFailed(img);\n    }\n\n    function imgLoaded(img) {\n      addClass(img, 'loaded');\n      imgCompleted(img);\n    }\n\n    function imgFailed(img) {\n      addClass(img, 'failed');\n      imgCompleted(img);\n    }\n\n    function imgCompleted(img) {\n      addClass(img, 'tns-complete');\n      removeClass(img, 'loading');\n      removeEvents(img, imgEvents);\n    }\n\n    function imgCachedCheck(img) {\n      if (img.complete) {\n        img.naturalWidth !== 0 ? imgLoaded(img) : imgFailed(img);\n      }\n    }\n\n    function getImageArray(slideStart, slideRange) {\n      var imgs = [];\n      for (var i = slideStart, l = Math.min(slideStart + slideRange, slideCountNew); i < l; i++) {\n        forEachNodeList(slideItems[i].querySelectorAll('img'), function (img) {\n          imgs.push(img);\n        });\n      }\n\n      return imgs;\n    }\n\n    // check if all visible images are loaded\n    // and update container height if it's done\n    function runAutoHeight() {\n      var imgs = autoHeight ?\n        getImageArray(index, items) :\n        getImageArray(cloneCount, slideCount);\n\n      raf(function () {\n        imgsLoadedCheck(imgs, updateInnerWrapperHeight);\n      });\n    }\n\n    function imgsLoadedCheck(imgs, cb) {\n      // directly execute callback function if all images are complete\n      if (imgsComplete) {\n        return cb();\n      }\n\n      // check selected image classes otherwise\n      imgs.forEach(function (img, index) {\n        if (hasClass(img, imgCompleteClass)) {\n          imgs.splice(index, 1);\n        }\n      });\n\n      // execute callback function if selected images are all complete\n      if (!imgs.length) {\n        return cb();\n      }\n\n      // otherwise execute this functiona again\n      raf(function () {\n        imgsLoadedCheck(imgs, cb);\n      });\n    }\n\n    function additionalUpdates() {\n      lazyLoad();\n      updateSlideStatus();\n      updateControlsStatus();\n      updateNavVisibility();\n      updateNavStatus();\n    }\n\n\n    function getMaxSlideHeight(slideStart, slideRange) {\n      var heights = [];\n      for (var i = slideStart, l = Math.min(slideStart + slideRange, slideCountNew); i < l; i++) {\n        heights.push(slideItems[i].offsetHeight);\n      }\n\n      return Math.max.apply(null, heights);\n    }\n\n    // update inner wrapper height\n    // 1. get the max-height of the visible slides\n    // 2. set transitionDuration to speed\n    // 3. update inner wrapper height to max-height\n    // 4. set transitionDuration to 0s after transition done\n    function updateInnerWrapperHeight() {\n      var maxHeight = autoHeight ?\n        getMaxSlideHeight(index, items) :\n        getMaxSlideHeight(cloneCount, slideCount);\n\n      if (innerWrapper.style.height !== maxHeight) {\n        innerWrapper.style.height = maxHeight + 'px';\n      }\n    }\n\n    // get the distance from the top edge of the first slide to each slide\n    // (init) => slidePositions\n    function getSlidePositions() {\n      slidePositions = [0];\n      var attr = horizontal ? 'left' : 'top',\n        first = slideItems[0].getBoundingClientRect()[attr],\n        position;\n      for (var i = 1; i < slideCountNew; i++) {\n        position = slideItems[i].getBoundingClientRect()[attr];\n        slidePositions.push(position - first);\n      }\n    }\n\n    // update slide\n    function updateSlideStatus() {\n      var l = index + Math.min(slideCount, items);\n      for (var i = slideCountNew; i--;) {\n        var item = slideItems[i];\n\n        // visible slides\n        if (i >= index && i < l) {\n          if (hasAttr(item, 'tabindex')) {\n            setAttrs(item, {'aria-hidden': 'false'});\n            removeAttrs(item, ['tabindex']);\n            addClass(item, slideActiveClass);\n          }\n          // hidden slides\n        } else {\n          if (!hasAttr(item, 'tabindex')) {\n            setAttrs(item, {\n              'aria-hidden': 'true',\n              'tabindex': '-1'\n            });\n          }\n          if (hasClass(item, slideActiveClass)) {\n            removeClass(item, slideActiveClass);\n          }\n        }\n      }\n    }\n\n    // gallery: update slide position\n    function updateGallerySlidePositions() {\n      var l = index + Math.min(slideCount, items);\n      for (var i = slideCountNew; i--;) {\n        var item = slideItems[i];\n\n        if (i >= index && i < l) {\n          // add transitions to visible slides when adjusting their positions\n          addClass(item, 'tns-moving');\n\n          item.style.left = (i - index) * 100 / items + '%';\n          addClass(item, animateIn);\n          removeClass(item, animateNormal);\n        } else if (item.style.left) {\n          item.style.left = '';\n          addClass(item, animateNormal);\n          removeClass(item, animateIn);\n        }\n\n        // remove outlet animation\n        removeClass(item, animateOut);\n      }\n\n      // removing '.tns-moving'\n      setTimeout(function () {\n        forEachNodeList(slideItems, function (el) {\n          removeClass(el, 'tns-moving');\n        });\n      }, 300);\n    }\n\n    // set tabindex on Nav\n    function updateNavStatus() {\n      // get current nav\n      if (nav) {\n        navCurrentIndex = navClicked >= 0 ? navClicked : getAbsIndex();\n        navClicked = -1;\n\n        if (navCurrentIndex !== navCurrentIndexCached) {\n          var navPrev = navItems[navCurrentIndexCached],\n            navCurrent = navItems[navCurrentIndex];\n\n          setAttrs(navPrev, {\n            'tabindex': '-1',\n            'aria-label': navStr + (navCurrentIndexCached + 1)\n          });\n          setAttrs(navCurrent, {\n            'tabindex': '0',\n            'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent\n          });\n          removeClass(navPrev, navActiveClass);\n          addClass(navCurrent, navActiveClass);\n\n          navCurrentIndexCached = navCurrentIndex;\n        }\n      }\n    }\n\n    function getLowerCaseNodeName(el) {\n      return el.nodeName.toLowerCase();\n    }\n\n    function isButton(el) {\n      return getLowerCaseNodeName(el) === 'button';\n    }\n\n    function isAriaDisabled(el) {\n      return el.getAttribute('aria-disabled') === 'true';\n    }\n\n    function disEnableElement(isButton, el, val) {\n      if (isButton) {\n        el.disabled = val;\n      } else {\n        el.setAttribute('aria-disabled', val.toString());\n      }\n    }\n\n    // set 'disabled' to true on controls when reach the edges\n    function updateControlsStatus() {\n      if (!controls || rewind || loop) {\n        return;\n      }\n\n      var prevDisabled = (prevIsButton) ? prevButton.disabled : isAriaDisabled(prevButton),\n        nextDisabled = (nextIsButton) ? nextButton.disabled : isAriaDisabled(nextButton),\n        disablePrev = (index <= indexMin) ? true : false,\n        disableNext = (!rewind && index >= indexMax) ? true : false;\n\n      if (disablePrev && !prevDisabled) {\n        disEnableElement(prevIsButton, prevButton, true);\n      }\n      if (!disablePrev && prevDisabled) {\n        disEnableElement(prevIsButton, prevButton, false);\n      }\n      if (disableNext && !nextDisabled) {\n        disEnableElement(nextIsButton, nextButton, true);\n      }\n      if (!disableNext && nextDisabled) {\n        disEnableElement(nextIsButton, nextButton, false);\n      }\n    }\n\n    // set duration\n    function resetDuration(el, str) {\n      if (TRANSITIONDURATION) {\n        el.style[TRANSITIONDURATION] = str;\n      }\n    }\n\n    function getSliderWidth() {\n      return fixedWidth ? (fixedWidth + gutter) * slideCountNew :\n        slidePositions[slideCountNew - 1] + slideItems[slideCountNew - 1].getBoundingClientRect().width;\n    }\n\n    function getRightBoundary() {\n      var result = viewport - (getSliderWidth() - gutter);\n      if (edgePadding) {\n        result += edgePadding - gutter;\n      }\n      if (result > 0) {\n        result = 0;\n      }\n      return result;\n    }\n\n    function getContainerTransformValue(num) {\n      if (num == null) {\n        num = index;\n      }\n\n      var val;\n      if (horizontal && !autoWidth) {\n        if (fixedWidth) {\n          val = -(fixedWidth + gutter) * num;\n        } else {\n          var denominator = TRANSFORM ? slideCountNew : items;\n          val = -num * 100 / denominator;\n        }\n      } else {\n        val = -slidePositions[num];\n      }\n\n      if (hasRightDeadZone) {\n        val = Math.max(val, rightBoundary);\n      }\n      // // remove edge padding for non-loop\n      // if (horizontal && !loop && edgePadding) {\n      //   var gap = edgePadding;\n\n      //   if (!autoWidth && !fixedWidth) {\n      //     gap = TRANSFORM ? gap * 100 / (viewport * slideCountNew / items) : gap / viewport;\n      //   }\n\n      //   if (num <= 0) {\n      //     val -= gap;\n      //   } else if (num >= indexMax && !autoWidth && !fixedWidth) {\n      //     val += gap;\n      //   }\n      // }\n\n      val += (horizontal && !autoWidth && !fixedWidth) ? '%' : 'px';\n\n      return val;\n    }\n\n    function doContainerTransformSilent(val) {\n      resetDuration(container, '0s');\n      doContainerTransform(val);\n    }\n\n    function doContainerTransform(val) {\n      if (val == null) {\n        val = getContainerTransformValue();\n      }\n      container.style[transformAttr] = transformPrefix + val + transformPostfix;\n    }\n\n    function animateSlide(number, classOut, classIn, isOut) {\n      var l = number + items;\n      if (!loop) {\n        l = Math.min(l, slideCountNew);\n      }\n\n      for (var i = number; i < l; i++) {\n        var item = slideItems[i];\n\n        // set item positions\n        if (!isOut) {\n          item.style.left = (i - index) * 100 / items + '%';\n        }\n\n        if (animateDelay && TRANSITIONDELAY) {\n          item.style[TRANSITIONDELAY] = item.style[ANIMATIONDELAY] = animateDelay * (i - number) / 1000 + 's';\n        }\n        removeClass(item, classOut);\n        addClass(item, classIn);\n\n        if (isOut) {\n          slideItemsOut.push(item);\n        }\n      }\n    }\n\n    // make transfer after click/drag:\n    // 1. change 'transform' property for mordern browsers\n    // 2. change 'left' property for legacy browsers\n    var transformCore = (function () {\n      return carousel ?\n        function () {\n          resetDuration(container, '');\n          if (TRANSITIONDURATION || !speed) {\n            // for morden browsers with non-zero duration or\n            // zero duration for all browsers\n            doContainerTransform();\n            // run fallback function manually\n            // when duration is 0 / container is hidden\n            if (!speed || !isVisible(container)) {\n              onTransitionEnd();\n            }\n\n          } else {\n            // for old browser with non-zero duration\n            jsTransform(container, transformAttr, transformPrefix, transformPostfix, getContainerTransformValue(), speed, onTransitionEnd);\n          }\n\n          if (!horizontal) {\n            updateContentWrapperHeight();\n          }\n        } :\n        function () {\n          slideItemsOut = [];\n\n          var eve = {};\n          eve[TRANSITIONEND] = eve[ANIMATIONEND] = onTransitionEnd;\n          removeEvents(slideItems[indexCached], eve);\n          addEvents(slideItems[index], eve);\n\n          animateSlide(indexCached, animateIn, animateOut, true);\n          animateSlide(index, animateNormal, animateIn);\n\n          // run fallback function manually\n          // when transition or animation not supported / duration is 0\n          if (!TRANSITIONEND || !ANIMATIONEND || !speed || !isVisible(container)) {\n            onTransitionEnd();\n          }\n        };\n    })();\n\n    function render(e, sliderMoved) {\n      if (updateIndexBeforeTransform) {\n        updateIndex();\n      }\n\n      // render when slider was moved (touch or drag) even though index may not change\n      if (index !== indexCached || sliderMoved) {\n        // events\n        events.emit('indexChanged', info());\n        events.emit('transitionStart', info());\n        if (autoHeight) {\n          runAutoHeight();\n        }\n\n        // pause autoplay when click or keydown from user\n        if (animating && e && ['click', 'keydown'].indexOf(e.type) >= 0) {\n          stopAutoplay();\n        }\n\n        running = true;\n        transformCore();\n      }\n    }\n\n    /*\n     * Transfer prefixed properties to the same format\n     * CSS: -Webkit-Transform => webkittransform\n     * JS: WebkitTransform => webkittransform\n     * @param {string} str - property\n     *\n     */\n    function strTrans(str) {\n      return str.toLowerCase().replace(/-/g, '');\n    }\n\n    // AFTER TRANSFORM\n    // Things need to be done after a transfer:\n    // 1. check index\n    // 2. add classes to visible slide\n    // 3. disable controls buttons when reach the first/last slide in non-loop slider\n    // 4. update nav status\n    // 5. lazyload images\n    // 6. update container height\n    function onTransitionEnd(event) {\n      // check running on gallery mode\n      // make sure trantionend/animationend events run only once\n      if (carousel || running) {\n        events.emit('transitionEnd', info(event));\n\n        if (!carousel && slideItemsOut.length > 0) {\n          for (var i = 0; i < slideItemsOut.length; i++) {\n            var item = slideItemsOut[i];\n            // set item positions\n            item.style.left = '';\n\n            if (ANIMATIONDELAY && TRANSITIONDELAY) {\n              item.style[ANIMATIONDELAY] = '';\n              item.style[TRANSITIONDELAY] = '';\n            }\n            removeClass(item, animateOut);\n            addClass(item, animateNormal);\n          }\n        }\n\n        /* update slides, nav, controls after checking ...\n         * => legacy browsers who don't support 'event'\n         *    have to check event first, otherwise event.target will cause an error\n         * => or 'gallery' mode:\n         *   + event target is slide item\n         * => or 'carousel' mode:\n         *   + event target is container,\n         *   + event.property is the same with transform attribute\n         */\n        if (!event ||\n          !carousel && event.target.parentNode === container ||\n          event.target === container && strTrans(event.propertyName) === strTrans(transformAttr)) {\n\n          if (!updateIndexBeforeTransform) {\n            var indexTem = index;\n            updateIndex();\n            if (index !== indexTem) {\n              events.emit('indexChanged', info());\n\n              doContainerTransformSilent();\n            }\n          }\n\n          if (nested === 'inner') {\n            events.emit('innerLoaded', info());\n          }\n          running = false;\n          indexCached = index;\n        }\n      }\n\n    }\n\n    // # ACTIONS\n    function goTo(targetIndex, e) {\n      if (freeze) {\n        return;\n      }\n\n      // prev slideBy\n      if (targetIndex === 'prev') {\n        onControlsClick(e, -1);\n\n        // next slideBy\n      } else if (targetIndex === 'next') {\n        onControlsClick(e, 1);\n\n        // go to exact slide\n      } else {\n        if (running) {\n          if (preventActionWhenRunning) {\n            return;\n          } else {\n            onTransitionEnd();\n          }\n        }\n\n        var absIndex = getAbsIndex(),\n          indexGap = 0;\n\n        if (targetIndex === 'first') {\n          indexGap = -absIndex;\n        } else if (targetIndex === 'last') {\n          indexGap = carousel ? slideCount - items - absIndex : slideCount - 1 - absIndex;\n        } else {\n          if (typeof targetIndex !== 'number') {\n            targetIndex = parseInt(targetIndex);\n          }\n\n          if (!isNaN(targetIndex)) {\n            // from directly called goTo function\n            if (!e) {\n              targetIndex = Math.max(0, Math.min(slideCount - 1, targetIndex));\n            }\n\n            indexGap = targetIndex - absIndex;\n          }\n        }\n\n        // gallery: make sure new page won't overlap with current page\n        if (!carousel && indexGap && Math.abs(indexGap) < items) {\n          var factor = indexGap > 0 ? 1 : -1;\n          indexGap += (index + indexGap - slideCount) >= indexMin ? slideCount * factor : slideCount * 2 * factor * -1;\n        }\n\n        index += indexGap;\n\n        // make sure index is in range\n        if (carousel && loop) {\n          if (index < indexMin) {\n            index += slideCount;\n          }\n          if (index > indexMax) {\n            index -= slideCount;\n          }\n        }\n\n        // if index is changed, start rendering\n        if (getAbsIndex(index) !== getAbsIndex(indexCached)) {\n          render(e);\n        }\n\n      }\n    }\n\n    // on controls click\n    function onControlsClick(e, dir) {\n      if (running) {\n        if (preventActionWhenRunning) {\n          return;\n        } else {\n          onTransitionEnd();\n        }\n      }\n      var passEventObject;\n\n      if (!dir) {\n        e = getEvent(e);\n        var target = e.target || e.srcElement;\n\n        while (target !== controlsContainer && [prevButton, nextButton].indexOf(target) < 0) {\n          target = target.parentNode;\n        }\n\n        var targetIn = [prevButton, nextButton].indexOf(target);\n        if (targetIn >= 0) {\n          passEventObject = true;\n          dir = targetIn === 0 ? -1 : 1;\n        }\n      }\n\n      if (rewind) {\n        if (index === indexMin && dir === -1) {\n          goTo('last', e);\n          return;\n        } else if (index === indexMax && dir === 1) {\n          goTo('first', e);\n          return;\n        }\n      }\n\n      if (dir) {\n        index += slideBy * dir;\n        if (autoWidth) {\n          index = Math.floor(index);\n        }\n        // pass e when click control buttons or keydown\n        render((passEventObject || (e && e.type === 'keydown')) ? e : null);\n      }\n    }\n\n    // on nav click\n    function onNavClick(e) {\n      if (running) {\n        if (preventActionWhenRunning) {\n          return;\n        } else {\n          onTransitionEnd();\n        }\n      }\n\n      e = getEvent(e);\n      var target = e.target || e.srcElement,\n        navIndex;\n\n      // find the clicked nav item\n      while (target !== navContainer && !hasAttr(target, 'data-nav')) {\n        target = target.parentNode;\n      }\n      if (hasAttr(target, 'data-nav')) {\n        navIndex = navClicked = [].indexOf.call(navItems, target);\n        goTo(navIndex, e);\n\n        if (navCurrentIndex === navIndex) {\n          if (animating) {\n            stopAutoplay();\n          }\n          navClicked = -1; // reset navClicked\n        }\n      }\n    }\n\n    // autoplay functions\n    function setAutoplayTimer() {\n      autoplayTimer = setInterval(function () {\n        onControlsClick(null, autoplayDirection);\n      }, autoplayTimeout);\n\n      animating = true;\n    }\n\n    function stopAutoplayTimer() {\n      clearInterval(autoplayTimer);\n      animating = false;\n    }\n\n    function updateAutoplayButton(action, txt) {\n      setAttrs(autoplayButton, {'data-action': action});\n      autoplayButton.innerHTML = autoplayHtmlStrings[0] + action + autoplayHtmlStrings[1] + txt;\n    }\n\n    function startAutoplay() {\n      setAutoplayTimer();\n      if (autoplayButton) {\n        updateAutoplayButton('stop', autoplayText[1]);\n      }\n    }\n\n    function stopAutoplay() {\n      stopAutoplayTimer();\n      if (autoplayButton) {\n        updateAutoplayButton('start', autoplayText[0]);\n      }\n    }\n\n    // programaitcally play/pause the slider\n    function play() {\n      if (autoplay && !animating) {\n        startAutoplay();\n        autoplayUserPaused = false;\n      }\n    }\n\n    function pause() {\n      if (animating) {\n        stopAutoplay();\n        autoplayUserPaused = true;\n      }\n    }\n\n    function toggleAutoplay() {\n      if (animating) {\n        stopAutoplay();\n        autoplayUserPaused = true;\n      } else {\n        startAutoplay();\n        autoplayUserPaused = false;\n      }\n    }\n\n    function onVisibilityChange() {\n      if (doc.hidden) {\n        if (animating) {\n          stopAutoplayTimer();\n          autoplayVisibilityPaused = true;\n        }\n      } else if (autoplayVisibilityPaused) {\n        setAutoplayTimer();\n        autoplayVisibilityPaused = false;\n      }\n    }\n\n    function mouseoverPause() {\n      if (animating) {\n        stopAutoplayTimer();\n        autoplayHoverPaused = true;\n      }\n    }\n\n    function mouseoutRestart() {\n      if (autoplayHoverPaused) {\n        setAutoplayTimer();\n        autoplayHoverPaused = false;\n      }\n    }\n\n    // keydown events on document\n    function onDocumentKeydown(e) {\n      e = getEvent(e);\n      switch (e.keyCode) {\n        case KEYS.LEFT:\n          onControlsClick(e, -1);\n          break;\n        case KEYS.RIGHT:\n          onControlsClick(e, 1);\n      }\n    }\n\n    // on key control\n    function onControlsKeydown(e) {\n      e = getEvent(e);\n      var code = e.keyCode;\n\n      switch (code) {\n        case KEYS.LEFT:\n        case KEYS.UP:\n        case KEYS.PAGEUP:\n          if (!prevButton.disabled) {\n            onControlsClick(e, -1);\n          }\n          break;\n        case KEYS.RIGHT:\n        case KEYS.DOWN:\n        case KEYS.PAGEDOWN:\n          if (!nextButton.disabled) {\n            onControlsClick(e, 1);\n          }\n          break;\n        case KEYS.HOME:\n          goTo('first', e);\n          break;\n        case KEYS.END:\n          goTo('last', e);\n          break;\n      }\n    }\n\n    // set focus\n    function setFocus(focus) {\n      focus.focus();\n    }\n\n    // on key nav\n    function onNavKeydown(e) {\n      var curElement = doc.activeElement;\n      if (!hasAttr(curElement, 'data-nav')) {\n        return;\n      }\n\n      e = getEvent(e);\n      var code = e.keyCode,\n        navIndex = [].indexOf.call(navItems, curElement),\n        len = visibleNavIndexes.length,\n        current = visibleNavIndexes.indexOf(navIndex);\n\n      if (options.navContainer) {\n        len = slideCount;\n        current = navIndex;\n      }\n\n      function getNavIndex(num) {\n        return options.navContainer ? num : visibleNavIndexes[num];\n      }\n\n      switch (code) {\n        case KEYS.LEFT:\n        case KEYS.PAGEUP:\n          if (current > 0) {\n            setFocus(navItems[getNavIndex(current - 1)]);\n          }\n          break;\n\n        case KEYS.UP:\n        case KEYS.HOME:\n          if (current > 0) {\n            setFocus(navItems[getNavIndex(0)]);\n          }\n          break;\n\n        case KEYS.RIGHT:\n        case KEYS.PAGEDOWN:\n          if (current < len - 1) {\n            setFocus(navItems[getNavIndex(current + 1)]);\n          }\n          break;\n\n        case KEYS.DOWN:\n        case KEYS.END:\n          if (current < len - 1) {\n            setFocus(navItems[getNavIndex(len - 1)]);\n          }\n          break;\n\n        // Can't use onNavClick here,\n        // Because onNavClick require event.target as nav items\n        case KEYS.ENTER:\n        case KEYS.SPACE:\n          navClicked = navIndex;\n          goTo(navIndex, e);\n          break;\n      }\n    }\n\n    function getEvent(e) {\n      e = e || win.event;\n      return isTouchEvent(e) ? e.changedTouches[0] : e;\n    }\n\n    function getTarget(e) {\n      return e.target || win.event.srcElement;\n    }\n\n    function isTouchEvent(e) {\n      return e.type.indexOf('touch') >= 0;\n    }\n\n    function preventDefaultBehavior(e) {\n      e.preventDefault ? e.preventDefault() : e.returnValue = false;\n    }\n\n    function getMoveDirectionExpected() {\n      return getTouchDirection(toDegree(lastPosition.y - initPosition.y, lastPosition.x - initPosition.x), swipeAngle) === options.axis;\n    }\n\n    function onPanStart(e) {\n      if (running) {\n        if (preventActionWhenRunning) {\n          return;\n        } else {\n          onTransitionEnd();\n        }\n      }\n\n      if (autoplay && animating) {\n        stopAutoplayTimer();\n      }\n\n      panStart = true;\n      if (rafIndex) {\n        caf(rafIndex);\n        rafIndex = null;\n      }\n\n      var $ = getEvent(e);\n      events.emit(isTouchEvent(e) ? 'touchStart' : 'dragStart', info(e));\n\n      if (!isTouchEvent(e) && ['img', 'a'].indexOf(getLowerCaseNodeName(getTarget(e))) >= 0) {\n        preventDefaultBehavior(e);\n      }\n\n      lastPosition.x = initPosition.x = parseInt($.clientX);\n      lastPosition.y = initPosition.y = parseInt($.clientY);\n      if (carousel) {\n        translateInit = parseFloat(container.style[transformAttr].replace(transformPrefix, '').replace(transformPostfix, ''));\n        resetDuration(container, '0s');\n      }\n    }\n\n    function onPanMove(e) {\n      if (panStart) {\n        var $ = getEvent(e);\n        lastPosition.x = parseInt($.clientX);\n        lastPosition.y = parseInt($.clientY);\n\n        if (carousel) {\n          if (!rafIndex) {\n            rafIndex = raf(function () {\n              panUpdate(e);\n            });\n          }\n        } else {\n          if (moveDirectionExpected === '?') {\n            moveDirectionExpected = getMoveDirectionExpected();\n          }\n          if (moveDirectionExpected) {\n            preventScroll = true;\n          }\n        }\n\n        if (preventScroll) {\n          e.preventDefault();\n        }\n      }\n    }\n\n    function panUpdate(e) {\n      if (!moveDirectionExpected) {\n        panStart = false;\n        return;\n      }\n      caf(rafIndex);\n      if (panStart) {\n        rafIndex = raf(function () {\n          panUpdate(e);\n        });\n      }\n\n      if (moveDirectionExpected === '?') {\n        moveDirectionExpected = getMoveDirectionExpected();\n      }\n      if (moveDirectionExpected) {\n        if (!preventScroll && isTouchEvent(e)) {\n          preventScroll = true;\n        }\n\n        try {\n          if (e.type) {\n            events.emit(isTouchEvent(e) ? 'touchMove' : 'dragMove', info(e));\n          }\n        } catch (err) {\n        }\n\n        var x = translateInit,\n          dist = getDist(lastPosition, initPosition);\n        if (!horizontal || fixedWidth || autoWidth) {\n          x += dist;\n          x += 'px';\n        } else {\n          var percentageX = TRANSFORM ? dist * items * 100 / (viewport * slideCountNew) : dist * 100 / viewport;\n          x += percentageX;\n          x += '%';\n        }\n\n        container.style[transformAttr] = transformPrefix + x + transformPostfix;\n      }\n    }\n\n    function onPanEnd(e) {\n      if (panStart) {\n        if (rafIndex) {\n          caf(rafIndex);\n          rafIndex = null;\n        }\n        if (carousel) {\n          resetDuration(container, '');\n        }\n        panStart = false;\n\n        var $ = getEvent(e);\n        lastPosition.x = parseInt($.clientX);\n        lastPosition.y = parseInt($.clientY);\n        var dist = getDist(lastPosition, initPosition);\n\n        if (Math.abs(dist)) {\n          // drag vs click\n          if (!isTouchEvent(e)) {\n            // prevent \"click\"\n            var target = getTarget(e);\n            addEvents(target, {\n              'click': function preventClick(e) {\n                preventDefaultBehavior(e);\n                removeEvents(target, {'click': preventClick});\n              }\n            });\n          }\n\n          if (carousel) {\n            rafIndex = raf(function () {\n              if (horizontal && !autoWidth) {\n                var indexMoved = -dist * items / viewport;\n                indexMoved = dist > 0 ? Math.floor(indexMoved) : Math.ceil(indexMoved);\n                index += indexMoved;\n              } else {\n                var moved = -(translateInit + dist);\n                if (moved <= 0) {\n                  index = indexMin;\n                } else if (moved >= slidePositions[slidePositions.length - 1]) {\n                  index = indexMax;\n                } else {\n                  var i = 0;\n                  while (i < slideCountNew && moved >= slidePositions[i]) {\n                    index = i;\n                    if (moved > slidePositions[i] && dist < 0) {\n                      index += 1;\n                    }\n                    i++;\n                  }\n                }\n              }\n\n              render(e, dist);\n              events.emit(isTouchEvent(e) ? 'touchEnd' : 'dragEnd', info(e));\n            });\n          } else {\n            if (moveDirectionExpected) {\n              onControlsClick(e, dist > 0 ? -1 : 1);\n            }\n          }\n        }\n      }\n\n      // reset\n      if (options.preventScrollOnTouch === 'auto') {\n        preventScroll = false;\n      }\n      if (swipeAngle) {\n        moveDirectionExpected = '?';\n      }\n      if (autoplay && !animating) {\n        setAutoplayTimer();\n      }\n    }\n\n    // === RESIZE FUNCTIONS === //\n    // (slidePositions, index, items) => vertical_conentWrapper.height\n    function updateContentWrapperHeight() {\n      innerWrapper.style.height = slidePositions[index + items] - slidePositions[index] + 'px';\n    }\n\n    /*\n     * get nav item indexes per items\n     * add 1 more if the nav items cann't cover all slides\n     * [0, 1, 2, 3, 4] / 3 => [0, 3]\n     */\n    function getVisibleNavIndex() {\n      // reset visibleNavIndexes\n      visibleNavIndexes = [];\n\n      var absIndexMin = getAbsIndex() % items;\n      while (absIndexMin < slideCount) {\n        if (carousel && !loop && absIndexMin + items > slideCount) {\n          absIndexMin = slideCount - items;\n        }\n        visibleNavIndexes.push(absIndexMin);\n        absIndexMin += items;\n      }\n\n      // nav count * items < slide count means\n      // some slides can not be displayed only by nav clicking\n      if (loop && visibleNavIndexes.length * items < slideCount ||\n        !loop && visibleNavIndexes[0] > 0) {\n        visibleNavIndexes.unshift(0);\n      }\n    }\n\n    /*\n     * 1. update visible nav items list\n     * 2. add \"hidden\" attributes to previous visible nav items\n     * 3. remove \"hidden\" attrubutes to new visible nav items\n     */\n    function updateNavVisibility() {\n      if (!nav || navAsThumbnails) {\n        return;\n      }\n      getVisibleNavIndex();\n\n      if (visibleNavIndexes !== visibleNavIndexesCached) {\n        forEachNodeList(navItems, function (el, i) {\n          visibleNavIndexes.indexOf(i) < 0 ? hideElement(el) : showElement(el);\n        });\n\n        // cache visible nav indexes\n        visibleNavIndexesCached = visibleNavIndexes;\n      }\n    }\n\n    function info(e) {\n      return {\n        container: container,\n        slideItems: slideItems,\n        navContainer: navContainer,\n        navItems: navItems,\n        controlsContainer: controlsContainer,\n        hasControls: hasControls,\n        prevButton: prevButton,\n        nextButton: nextButton,\n        items: items,\n        slideBy: slideBy,\n        cloneCount: cloneCount,\n        slideCount: slideCount,\n        slideCountNew: slideCountNew,\n        index: index,\n        indexCached: indexCached,\n        displayIndex: getCurrentSlide(),\n        navCurrentIndex: navCurrentIndex,\n        navCurrentIndexCached: navCurrentIndexCached,\n        visibleNavIndexes: visibleNavIndexes,\n        visibleNavIndexesCached: visibleNavIndexesCached,\n        sheet: sheet,\n        isOn: isOn,\n        event: e || {},\n      };\n    }\n\n    return {\n      version: '2.8.8',\n      getInfo: info,\n      events: events,\n      goTo: goTo,\n      play: play,\n      pause: pause,\n      isOn: isOn,\n      updateSliderHeight: updateInnerWrapperHeight,\n      refresh: initSliderTransform,\n      destroy: destroy,\n      rebuild: function () {\n        return tns(extend(options, optionsElements));\n      }\n    };\n  };\n\n  return tns;\n})();\n","(function () {\n  const menuButton = document.querySelector('.js-show-menu');\n  const menuWrapper = document.querySelector('.js-menu-wrapper');\n  const close = menuWrapper.querySelector('.js-menu-close');\n  menuButton.addEventListener('click', function (evt) {\n    const target = evt.target.closest('.js-show-menu');\n    console.log(target);\n    target.setAttribute('aria-expanded', 'true');\n    menuWrapper.classList.add('opened');\n  });\n  close.addEventListener('click', function () {\n    menuWrapper.classList.remove('opened');\n    menuButton.setAttribute('aria-expanded', 'false');\n  });\n})();\n\n"]}